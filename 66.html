<!doctype html>
<html lang=en id=release>
<meta charset=utf-8>

<title>OpenBSD 6.6</title>
<meta name="description" content="OpenBSD 6.6">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/66.html">

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
6.6
</h2>

<table>
<tr>
<td>
<a href="images/Puffystock.gif">
<img alt="Puffystock" width="227" height="343" src="images/Puffystock-s.gif"></a>
<td>
Released XXX, 2019<br>
Copyright 1997-2019, Theo de Raadt.<br>
<br>
<br>
Artwork by Hans Tseng, Efrain Farias, and Natasha Allegri.
<br>
<ul>
<li>See the information on <a href="ftp.html">the FTP page</a> for
    a list of mirror machines.
<li>Go to the <code class=reldir>pub/OpenBSD/6.6/</code> directory on
    one of the mirror sites.
<li>Have a look at <a href="errata66.html">the 6.6 errata page</a> for a list
    of bugs and workarounds.
<li>See a <a href="plus66.html">detailed log of changes</a> between the
    6.5 and 6.6 releases.
<p>
<li><a href="https://man.openbsd.org/signify.1">signify(1)</a>
    pubkeys for this release:<p>

<table class=signify>
<tr><td>
openbsd-66-base.pub:
<td>
<a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/openbsd-66-base.pub">
RWSZaRmt1LEQT9CtPygf9CvONu8kYPTlVEJdysNoUR62/NkeWgdkc3zY</a>
<tr><td>
openbsd-66-fw.pub:
<td>
RWQYdGVtTv5IvpH2c+TLQAC4iV7RjoGZ/v75q8MCuC9Mca7nFVCXRefy
<tr><td>
openbsd-66-pkg.pub:
<td>
RWS5D4+188RI6jULDOFzga0Cm1zrXYUAHT6xu0mLrZidbn6xrMB5aZeR
<tr><td>
openbsd-66-syspatch.pub:
<td>
RWT8U2yd3Aq5DnetILjmSoCQxmyt3VqfGS7GBh19oh4Xre4ywc31PEpw
</table>
</ul>
<p>
All applicable copyrights and credits are in the src.tar.gz,
sys.tar.gz, xenocara.tar.gz, ports.tar.gz files, or in the
files fetched via <code>ports.tar.gz</code>.
</table>

<hr>

<section id=new>
<h3>What's New</h3>
<p>
This is a partial list of new features and systems included in OpenBSD 6.6.
For a comprehensive list, see the <a href="plus66.html">changelog</a> leading
to 6.6.

<ul>

<li>Improved hardware support, including:
    <ul>
      <li><a href="https://man.openbsd.org/clang.1">clang(1)</a>
          is now provided on powerpc.
    </ul>

<li>IEEE 802.11 wireless stack improvements:
  <ul>
  </ul>

<li>Generic network stack improvements:
    <ul>
    </ul>

<li>Installer improvements:
    <ul>
    </ul>

<li>Security improvements:
  <ul>
  </ul>

<li>Routing daemons and other userland network improvements:
    <ul>
      <li>The <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a>
        daemon now gets and sets the clock in a secure way when booting
        even when a battery-backed clock is absent.
    </ul>

<li><a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> improvements:
    <ul>
    </ul>

<li>Assorted improvements:
  <ul>
    <li> The filesystem buffer cache now more aggressively uses memory
      outside the DMA region, to improve cache performance on amd64
      machines.
    <li> The BER API previously internal to
<a href="https://man.openbsd.org/ldap.1">ldap(1)</a>,
<a href="https://man.openbsd.org/ldapd.8">ldapd(8)</a>,
<a href="https://man.openbsd.org/ypldap.8">ypldap(8)</a>, and
<a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a> has been moved into
libutil.
See <a href="https://man.openbsd.org/ber_read_elements.3">ber_read_elements(3)</a>.
    <li>Support for specifying boot device in
        <a href="https://man.openbsd.org/vm.conf#boot_device">vm.conf(5)</a>.
      <li> <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> now supports
           binary protocol health checking. See
           <a href="https://man.openbsd.org/relayd.conf.5">relayd.conf(5)</a>.
  </ul>

<li>OpenSMTPD 6.6.0
  <ul>
    <li>New Features
      <ul>
	<li>Introduced support for ECDSA certificates with an ECDSA privsep engine.
	<li>Introduced builtin filters to allow basic filtering of incoming sessions in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
	<li>Introduced option to deliver junk to a Junk folder in <a href="https://man.openbsd.org/mail.maildir.8">mail.maildir(8)</a>.
      </ul>
    <li>Bug fixes
      <ul>
	<li>Fixed the <a href="https://man.openbsd.org/smtp.1">smtp(1)</a> client so it uses correct default port for SMTPS.
	<li>Fixed an <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> crash on excessively large input.
	<li>Ensured mail rejected by an LMTP server will stay queued rather than bouncing.
      </ul>
    <li>Experimental Features
      <ul>
	<li>Introduced a filters API to allow writing standalone filters for <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>,
	  with multiple filters made available in ports.
      </ul>
  </ul>

<li>LibreSSL 3.0.X
  <ul>
    <li>API and Documentation Enhancements
    <ul>
      <li>Completed the port of RSA_METHOD accessors from the
          OpenSSL 1.1 API.
      <li>Documented undescribed options and
          removed unfunctional options description in openssl(1) manual.
    </ul>

    <li>Compatibility Changes
    <ul>
    </ul>

    <li>Testing and Proactive Security
    <ul>
      <li>
	A plethora of small fixes due to regular oss-fuzz testing.
      <li>
        Various side channels in DSA and ECDSA were addressed.
	These are some of the many issues found in an extensive systematic
	analysis of bignum usage by Samuel Weiser, David Schrammel et al.
    </ul>

    <li>Internal Improvements
    <ul>
    </ul>

    <li>Portable Improvements
    <ul>
      <li>Enabled performance optimizations when building with Visual Studio on Windows.
      <li>Enabled openssl(1) speed subcommand on Windows platform.
    </ul>

    <li>Bug Fixes
    <ul>
      <li>
        Fixed issue where SRTP extension would not be sent by server.
      <li>
        Fixed incorrect carry operation in 512 addition for Streebog.
      <li>Fixed -modulus option with openssl(1) dsa subcommand.
      <li>Fixed PVK format output issue with openssl(1) dsa and rsa subcommand.
    </ul>
  </ul>

<li>OpenSSH 8.X
  <ul>
  <li>New Features
  <li>Bugfixes
  </ul>

<li>Mandoc XXX
  <ul>
  </ul>

<li>Xenocara
  <ul>
  </ul>

<li><p>Ports and packages:
    <ul>
    </ul>
    <p>Many pre-built packages for each architecture:
    <!-- number of FTP packages minus SHA256, SHA256.sig, index.txt -->
    <ul style="column-count: 3">
      <li>aarch64:     XXXX
      <li>amd64:       XXXX
      <li>arm:         XXXX
      <li>i386:        XXXX
      <li>mips64:      XXXX
      <li>mips64el:    XXXX
      <li>powerpc:     XXXX
      <li>sparc64:     XXXX
    </ul>

    <p>Some highlights:
    <ul style="column-count: 3">
    </ul>

<li>As usual, steady improvements in manual pages and other documentation.

<li>The system includes the following major components from outside suppliers:
    <ul>
    </ul>
</ul>
</section>

<hr>

<section id=install>
<h3>How to install</h3>
<p>
Please refer to the following files on the mirror site for
extensive details on how to install OpenBSD 6.6 on your machine:

<ul>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/alpha/INSTALL.alpha">
	.../OpenBSD/6.6/alpha/INSTALL.alpha</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/amd64/INSTALL.amd64">
	.../OpenBSD/6.6/amd64/INSTALL.amd64</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/arm64/INSTALL.arm64">
	.../OpenBSD/6.6/arm64/INSTALL.arm64</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/armv7/INSTALL.armv7">
	.../OpenBSD/6.6/armv7/INSTALL.armv7</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/hppa/INSTALL.hppa">
	.../OpenBSD/6.6/hppa/INSTALL.hppa</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/i386/INSTALL.i386">
	.../OpenBSD/6.6/i386/INSTALL.i386</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/landisk/INSTALL.landisk">
	.../OpenBSD/6.6/landisk/INSTALL.landisk</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/loongson/INSTALL.loongson">
	.../OpenBSD/6.6/loongson/INSTALL.loongson</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/luna88k/INSTALL.luna88k">
	.../OpenBSD/6.6/luna88k/INSTALL.luna88k</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/macppc/INSTALL.macppc">
	.../OpenBSD/6.6/macppc/INSTALL.macppc</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/octeon/INSTALL.octeon">
	.../OpenBSD/6.6/octeon/INSTALL.octeon</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/sgi/INSTALL.sgi">
	.../OpenBSD/6.6/sgi/INSTALL.sgi</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/6.6/sparc64/INSTALL.sparc64">
	.../OpenBSD/6.6/sparc64/INSTALL.sparc64</a>
</ul>
</section>

<hr>

<section id=quickinstall>
<p>
Quick installer information for people familiar with OpenBSD, and the use of
the "<a href="https://man.openbsd.org/disklabel.8">disklabel</a> -E" command.
If you are at all confused when installing OpenBSD, read the relevant
INSTALL.* file as listed above!

<h3>OpenBSD/alpha:</h3>

<p>
Write <i>floppy66.fs</i> or <i>floppyB66.fs</i> (depending on your machine)
to a diskette and enter <i>boot dva0</i>.
Refer to INSTALL.alpha for more details.

<p>
Make sure you use a properly formatted floppy with NO BAD BLOCKS or your install
will most likely fail.

<h3>OpenBSD/amd64:</h3>

<p>
If your machine can boot from CD, you can write <i>install66.iso</i> or
<i>cd66.iso</i> to a CD and boot from it.
You may need to adjust your BIOS options first.

<p>
If your machine can boot from USB, you can write <i>install66.fs</i> or
<i>miniroot66.fs</i> to a USB stick and boot from it.

<p>
If you can't boot from a CD, floppy disk, or USB,
you can install across the network using PXE as described in the included
INSTALL.amd64 document.

<p>
If you are planning to dual boot OpenBSD with another OS, you will need to
read INSTALL.amd64.

<h3>OpenBSD/arm64:</h3>

<p>
Write <i>miniroot66.fs</i> to a disk and boot from it after connecting
to the serial console.  Refer to INSTALL.arm64 for more details.

<h3>OpenBSD/armv7:</h3>

<p>
Write a system specific miniroot to an SD card and boot from it after connecting
to the serial console.  Refer to INSTALL.armv7 for more details.

<h3>OpenBSD/hppa:</h3>

<p>
Boot over the network by following the instructions in INSTALL.hppa or the
<a href="hppa.html#install">hppa platform page</a>.

<h3>OpenBSD/i386:</h3>

<p>
If your machine can boot from CD, you can write <i>install66.iso</i> or
<i>cd66.iso</i> to a CD and boot from it.
You may need to adjust your BIOS options first.

<p>
If your machine can boot from USB, you can write <i>install66.fs</i> or
<i>miniroot66.fs</i> to a USB stick and boot from it.

<p>
If you can't boot from a CD, floppy disk, or USB,
you can install across the network using PXE as described in
the included INSTALL.i386 document.

<p>
If you are planning on dual booting OpenBSD with another OS, you will need to
read INSTALL.i386.

<h3>OpenBSD/landisk:</h3>

<p>
Write <i>miniroot66.fs</i> to the start of the CF
or disk, and boot normally.

<h3>OpenBSD/loongson:</h3>

<p>
Write <i>miniroot66.fs</i> to a USB stick and boot bsd.rd from it
or boot bsd.rd via tftp.
Refer to the instructions in INSTALL.loongson for more details.

<h3>OpenBSD/luna88k:</h3>

<p>
Copy 'boot' and 'bsd.rd' to a Mach or UniOS partition, and boot the bootloader
from the PROM, and then bsd.rd from the bootloader.
Refer to the instructions in INSTALL.luna88k for more details.

<h3>OpenBSD/macppc:</h3>

<p>
Burn the image from a mirror site to a CDROM, and power on your machine
while holding down the <i>C</i> key until the display turns on and
shows <i>OpenBSD/macppc boot</i>.

<p>
Alternatively, at the Open Firmware prompt, enter <i>boot cd:,ofwboot
/6.6/macppc/bsd.rd</i>

<h3>OpenBSD/octeon:</h3>

<p>
After connecting a serial port, boot bsd.rd over the network via DHCP/tftp.
Refer to the instructions in INSTALL.octeon for more details.

<h3>OpenBSD/sgi:</h3>

<p>
To install, burn cd66.iso on a CD-R, put it in the CD drive of your
machine and select <i>Install System Software</i> from the System Maintenance
menu. Indigo/Indy/Indigo2 (R4000) systems will not boot automatically from
CD-ROM, and need a proper invocation from the PROM prompt.
Refer to the instructions in INSTALL.sgi for more details.

<p>
If your machine doesn't have a CD drive, you can setup a DHCP/tftp network
server, and boot using "bootp()/bsd.rd.IP##" using the kernel matching your
system type. Refer to the instructions in INSTALL.sgi for more details.

<h3>OpenBSD/sparc64:</h3>

<p>
Burn the image from a mirror site to a CDROM, boot from it, and type
<i>boot cdrom</i>.

<p>
If this doesn't work, or if you don't have a CDROM drive, you can write
<i>floppy66.fs</i> or <i>floppyB66.fs</i>
(depending on your machine) to a floppy and boot it with <i>boot
floppy</i>. Refer to INSTALL.sparc64 for details.

<p>
Make sure you use a properly formatted floppy with NO BAD BLOCKS or your install
will most likely fail.

<p>
You can also write <i>miniroot66.fs</i> to the swap partition on
the disk and boot with <i>boot disk:b</i>.

<p>
If nothing works, you can boot over the network as described in INSTALL.sparc64.
</section>

<hr>

<section id=upgrade>
<h3>How to upgrade</h3>
<p>
If you already have an OpenBSD 6.5 system, and do not want to reinstall,
upgrade instructions and advice can be found in the
<a href="faq/upgrade66.html">Upgrade Guide</a>.
</section>

<hr>

<section id=sourcecode>
<h3>Notes about the source code</h3>
<p>
<code>src.tar.gz</code> contains a source archive starting at <code>/usr/src</code>.
This file contains everything you need except for the kernel sources,
which are in a separate archive.
To extract:
<blockquote><pre>
# <kbd>mkdir -p /usr/src</kbd>
# <kbd>cd /usr/src</kbd>
# <kbd>tar xvfz /tmp/src.tar.gz</kbd>
</pre></blockquote>
<p>
<code>sys.tar.gz</code> contains a source archive starting at <code>/usr/src/sys</code>.
This file contains all the kernel sources you need to rebuild kernels.
To extract:
<blockquote><pre>
# <kbd>mkdir -p /usr/src/sys</kbd>
# <kbd>cd /usr/src</kbd>
# <kbd>tar xvfz /tmp/sys.tar.gz</kbd>
</pre></blockquote>
<p>
Both of these trees are a regular CVS checkout.  Using these trees it
is possible to get a head-start on using the anoncvs servers as
described <a href="anoncvs.html">here</a>.
Using these files
results in a much faster initial CVS update than you could expect from
a fresh checkout of the full OpenBSD source tree.
</section>

<hr>

<section id=ports>
<h3>Ports Tree</h3>
<p>
A ports tree archive is also provided.  To extract:
<blockquote><pre>
# <kbd>cd /usr</kbd>
# <kbd>tar xvfz /tmp/ports.tar.gz</kbd>
</pre></blockquote>
<p>
Go read the <a href="faq/ports/index.html">ports</a> page
if you know nothing about ports
at this point.  This text is not a manual of how to use ports.
Rather, it is a set of notes meant to kickstart the user on the
OpenBSD ports system.
<p>
The <i>ports/</i> directory represents a CVS checkout of our ports.
As with our complete source tree, our ports tree is available via
<a href="anoncvs.html">AnonCVS</a>.
So, in order to keep up to date with the -stable branch, you must make
the <i>ports/</i> tree available on a read-write medium and update the tree
with a command like:
<blockquote><pre>
# <kbd>cd /usr/ports</kbd>
# <kbd>cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_6_6</kbd>
</pre></blockquote>
<p>
[Of course, you must replace the server name here with a nearby anoncvs
server.]
<p>
Note that most ports are available as packages on our mirrors. Updated
ports for the 6.6 release will be made available if problems arise.
<p>
If you're interested in seeing a port added, would like to help out, or just
would like to know more, the mailing list
<a href="mail.html">ports@openbsd.org</a> is a good place to know.
</section>
