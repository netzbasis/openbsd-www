<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current Changelog</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="copyright" content="This document copyright 1996-2016 by OpenBSD.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus.html">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<h2>
<a href="index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">-current Changelog</font>
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>.
<br>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 6.4 and -current</font></h3>
<p>

<ul>
<!-- 2019/02/17 -->
<li>Added <a href="https://man.openbsd.org/rsync">rsync(1)</a> support for --port=PORT and ":port" in the rsync:// URL. Unlike in the original rsync, service names are supported.
<li>Corrected <a href="https://man.openbsd.org/usb">usb(4)</a> to publish a new attached device only once it is fully initialized, preventing a race condition.
<li>Converted <a href="https://man.openbsd.org/openssl">openssl(1)</a> pkeyutl to the newer style of option handling.
<li>Adjusted <a href="https://man.openbsd.org/unwind">unwind(8)</a> to restart the DoT resolver alongside the other resolvers when log verbosity changes.
<!-- 2019/02/16 -->
<li>Improved time interpretation for <a href="https://man.openbsd.org/at">at(1)</a> by assuming that a time that is already past refers to the next day.
<li>Implemented the conv=fsync feature in <a href="https://man.openbsd.org/dd">dd(1)</a> (mirroring GNU dd), performing an <a href="https://man.openbsd.org/fsync">fsync(2)</a> after the final write to output.
<li>Added chown <a href="https://man.openbsd.org/pledge">pledge(2)</a> to <a href="https://man.openbsd.org/rsync">rsync(1)</a>, allowing root to gift files to other uids.
<li>Adjusted <a href="https://man.openbsd.org/rsync">rsync(1)</a> to set access time information with sub-second resolution.
<li>Changed <a href="https://man.openbsd.org/vmm">vmm(4)</a> to allow guests to see PA bits in CPUID, removing an unintentional guest memory size limit of 64GB.
<!-- 2019/02/15 -->
<li>Fixed a case where <a href="https://man.openbsd.org/ddb">ddb(4)</a> would modify two variables instead of one on 64-bit architectures.
<li>Relaxed userland stack pointer checking to allow PROT_NONE permissions on a page in addition to MAP_STACK.
<!-- 2019/02/14 -->
<li>Added support for -o, -D and -a in <a href="https://man.openbsd.org/rsync">rsync(1)</a>.
<li>Changed dpath <a href="https://man.openbsd.org/pledge">pledge(2)</a> to allow <a href="https://man.openbsd.org/mkfifoat.2">mkfifoat(2)</a> and <a href="https://man.openbsd.org/mknodat.2">mknodat(2)</a>.
<li>Allowed configuration of the rdomain for <a href="https://man.openbsd.org/mpe">mpe(4)</a> and <a href="https://man.openbsd.org/mpw">mpw(4)</a> interfaces.
<!-- 2019/02/13 -->
<li>Removed casts to (unsigned) to avoid range reduction bugs from parse.y based parsers.
<li>Updated <a href="https://man.openbsd.org/perl">perl(1)</a> to 5.28.1.
<li>Added support for server and client finished messages in <a href="https://man.openbsd.org/man3/ssl.3">ssl(3)</a> TLSv1.3 client implementation.
<li>Added a new <a href="https://man.openbsd.org/futex">futex(2)</a>-based <a href="https://man.openbsd.org/rwlock">rwlock(9)</a> implementation. The existing rwlock implementation will be used for architectures lacking atomic primitives.
<li>Changed <a href="https://man.openbsd.org/socket">socket(2)</a> options to allow calling of SO_PEERCRED on sockets created with <a href="https://man.openbsd.org/socketpair">socketpair(2)</a>.
<li>Adapted <a href="https://man.openbsd.org/rsync">rsync(1)</a> to use md4 from <a href="https://man.openbsd.org/crypto">crypto(3)</a>.
<!-- 2019/02/12 -->
<li> Integrated group ID send/receive and remapping into <a href="https://man.openbsd.org/rsync">rsync(1)</a>.
<li> Added -g option and associated getpw pledge to <a href="https://man.openbsd.org/rsync">rsync(1)</a>.
<li>Simplified imsg communications and improved privilege separation of <a href="https://man.openbsd.org/dhclient">dhclient(8)</a>. <a href="https://man.openbsd.org/resolv.conf.tail">resolv.conf.tail(5)</a> will now be read (allowing additional details to be supplied) with each proposal.
<li>Implemented support for -e and --rsh=name options in <a href="https://man.openbsd.org/rsync">rsync(1)</a>.
<li>Added long-opts aliases for single-letter options present in <a href="https://man.openbsd.org/rsync">rsync(1)</a>. Added missing -no-OPT long options.
<li>Adjusted <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a> show requests to handle the case where no neighbors are defined in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a>.
<!-- 2019/02/11 -->
<li>Implemented handling of Certificate and CertificateVerify messages in TLSv1.3.
<li>Began explicitly supporting VPNs in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a>, redefining and changing the syntax of <a href="https://man.openbsd.org/bgpd.conf">bgpd.conf(5)</a>. IMPORTANT NOTE: If MPLS VPNs are used, configuration will need to be adjusted.
<li>Moved the on-disk trust anchor for <a href="https://man.openbsd.org/unwind">unwind(8)</a> to /var/db/unwind.key, as it doesn't need to be in a directory writable by group _unwind. Additionally, began tracking it in <a href="https://man.openbsd.org/changelist">changelist(5)</a>.
<!-- 2019/02/10 -->
<li>Imported Kristaps' openrsync into the tree and began adjustment to match <a href="https://man.openbsd.org/style">style(9)</a> guidelines.
<li>Removed the implicit RTF_MPATH flag that rt_ifa_add() set on new routes.
<li>Simplified check for whether /usr/share is on an NFS filesystem in reorder_kernel.sh.
<li>Corrected PPC target in llvm to reflect that a long double is the same as a double on OpenBSD/powerpc.
<li>Set pkcs11.so to initialize pkcs11 interaction to allow it to ask for the smartcard's PIN during <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> with -D.  
<li>Adjusted <a href="https://man.openbsd.org/pfctl">pfctl(8)</a> parser to insist anchor names must not be empty.
<li>Further simplifed trust anchor handling in <a href="https://man.openbsd.org/unwind">unwind(8)</a>, allowing removal of wpath and cpath pledges from the parent process.
<li>Set logging of x509 peers' certificate subject names during tls client authentication in <a href="https://man.openbsd.org/httpd">httpd(8)</a>.
<li>Added Allwinner V3s support.
<li>Adjusted <a href="https://man.openbsd.org/scp">scp(1)</a> to accept shell-style brace alternations (e.g. "{foo,bar}") when verifying that filenames sent by the server match client requests.
<li>Changed <a href="https://man.openbsd.org/ssh">ssh(1)</a> to log when a connection is dropped for attempting to run a command when ForceCommand=internal-sftp is in effect.
<li>Updated to xf86-video-apm 1.3.0, xf86-video-s3virge 1.11.0, xf86-video-chips 1.3.0, xf86-video-i128 1.4.0, xf86-video-neomagic 1.3.0 and xf86-video-i740 1.4.0.
<!-- 2019/02/09 -->
<!-- 2019/02/08 -->
<li>Fixed ipv4 checksum calculation for mpls_input.c that was being performed in memory half the necessary size.
<li>Fixed a race condition for <a href="https://man.openbsd.org/install">install(1)</a>. This patch makes the -S option a no-op, its functionality becoming the default behavior.
<li>Fixed stack info leak in <a href="https://man.openbsd.org/execve">execve(2)</a>.
<li>Made clear in the documentation that <a href="https://man.openbsd.org/httpd">httpd(8)</a> supports fastcgi over TCP.
<li>Imported <a href="https://man.openbsd.org/unbound">unbound(8)</a> 1.9.0 and updated unwind's copy of libunbound.
<!-- 2019/02/07 -->
<li>Removed rpath from the pledge in <a href="https://man.openbsd.org/cut">cut(1)</a> when only stdin is used.
<li>Rewrote trust anchor handling in <a href="https://man.openbsd.org/unwind">unwind(8)</a> to stop using libunbound's auto trust anchor feature, allowing tightening of the resolver process pledges.
<li>Implemented processing of EncryptedExtensions in the <a href="https://man.openbsd.org/ssl">ssl(3)</a> TLSv1.3 client.
<li>Added lock stack trace saving for <a href="https://man.openbsd.org/witness">witness(4)</a>. This setting is not enabled by default.
<li>Adjusted <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> to correct possible memory leaks by changing it to consistently use <a href="https://man.openbsd.org/m_freem">m_freem(9)</a> and adding an assert to identify overruns of the task ring queue.
<!-- 2019/02/06 -->
<li>Reworked <a href="https://man.openbsd.org/fec">fec(4)</a> handling of descriptors and buffers. Added recovery in the case of a full transmission queue.
<li>Improved handling of roff identifiers that end with a tab character in <a href="https://man.openbsd.org/mandoc">mandoc(1)</a>.
<li>Fixed a possible memory leak in tcp_usrreq().
<li>Replaced overlapping <a href="memcpy">memcpy(3)</a> with <a href="https://man.openbsd.org/memmove">memmove(3)</a> in getpathname() for <a href="https://man.openbsd.org/fsck_ffs">fsck_ffs(8)</a> and <a href="https://man.openbsd.org/fsck_ext2fs">fsck_ext2fs(8)</a>.
<li>Added display of rcpt address for RCPT errors in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.
<li>Added -b to display-panes like run-shell in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<!-- 2019/02/05 -->
<li>Fixed addend handling for relaxing R-PPC-PLTREL24 relocations in <a href="https://man.openbsd.org/ld.bfd">ld.bfd(1)</a>, making -Wl and -relax work well enough to link base clang on macppc.
<li>Fixed a potential out-of-bounds read when <a href="https://man.openbsd.org/regcomp">regcomp(3)</a> is passed a bad expression.
<li>Adjusted <a href="https://man.openbsd.org/ps">ps(1)</a> to work in single user mode where /var/run is unavailable or in cases where /dev does not exist.
<li>Added an example <a href="https://man.openbsd.org/unwind.conf">unwind.conf(5)</a>. (Note that <a href="https://man.openbsd.org/unwind">unwind(8)</a> works without a config file in many cases).
<li>Converted <a href="https://man.openbsd.org/openssl">openssl(1)</a> pkey to the newer style of option handling.
<li>Added handling of Cisco's Encapsulated Remote Switch Port Analyzer (ERSPAN) protocol to <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a>.
<!-- 2019/02/04 -->
<li>Fixed printing of major and minor from dev_t in various parts of the tree.
<li>Fixed NULL-deference crash in <a href="https://man.openbsd.org/ssh">ssh(1)</a> in the PKCS#11 code.
<li>Fixed a potential mbuf double free in the out-of-band soreceive() path.
<li>Added support for defining variables through the environment in <a href="https://man.openbsd.org/pkg-config">pkg-config(1)</a>.
<li>Implemented as-override in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a>, a feature where the neighbor AS is replaced by the local AS in AS paths.
<li>Added --validate flag to <a href="https://man.openbsd.org/pkg-config">pkg-config(1)</a> and updated version to 0.29.0. 
<li>Added a <a href="https://man.openbsd.org/pthread_get_name_np">pthread_get_name_np(3)</a> to match <a href="https://man.openbsd.org/pthread_set_name_np">pthread_set_name_np(3)</a> in <a href="https://man.openbsd.org/pthreads">pthreads(3)</a>.
<li>Fixed an undefined case when neither -msave-args or -mno-save-args are specified in LLVM.
<li>Imported libc++, libc++abi and libunwind version 7.0.1.
<li>Adjusted members of glob_t to match POSIX in <a href="https://man.openbsd.org/glob">glob(3)</a>. IMPORTANT NOTE: This required a libc major version bump.
<li>Implementing parsing and processing of TLSv1.3 ServerHello messages in <a href="https://man.openbsd.org/ssl">ssl(4)</a>.
<li>Fixed a panic caused by <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> by handling control messages that exceed MLEN.
<li>Applied a fix to update the caller-supplied pointer in semundo_adjust() to prevent a potential use-after-free panic.
<!-- 2019/02/03 -->
<li>Allowed <a href="https://man.openbsd.org/tun">tun(4)</a> access to AF_MPLS packets from userland.
<li>Converted <a href="https://man.openbsd.org/openssl">openssl(1)</a> rsautl to the newer style of option handling.
<li>Improved support for Marvell wi-fi microcontroller SoCs with the creation of the mvgicp(4) driver.
<li>Fixed exception handling issues with <a href="https://man.openbsd.org/clang%2B%2B">clang++(1)</a> on platforms not using <a href="https://man.openbsd.org/ld.lld">ld.lld(1)</a> as the default linker.
<li>Added captive portal detection for <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<!-- 2019/02/02 -->
<li>Enabled -msave-args when building an amd64 kernel with <a href="https://man.openbsd.org/clang">clang(1)</a>.
<li>Increased datasize in <a href="https://man.openbsd.org/login.conf">login.conf(5)</a> for sparc64 to accommodate Mesa.
<li>Adjusted <a href="https://man.openbsd.org/pfctl">pfctl(8)</a> to show the routing address selected by "route-to" when "pfctl -s states" is used. 
<li>Improved stack trace saving on amd64 and i386.
<!-- 2019/02/01 -->
<li>Added retries to <a href="https://man.openbsd.org/acme-client">acme-client(1)</a> when not all challenges are validated.
<li>Fixed <a href="https://man.openbsd.org/wscons">wscons(4)</a> to remove a potential use-after-free panic involving wskbclose().
<li>Fixed <a href="https://man.openbsd.org/ixl">ixl(4)</a> calculation of physical function ID, improving the function of the second port on dual port cards.
<li>Added libelf to allow future use by Mesa.
<li>Applied connection timeouts from an initial <a href="https://man.openbsd.org/ssh">ssh(1)</a> attempt to subsequent attempts.
<li>Fixed lost interrupts in <a href="https://man.openbsd.org/fec">fec(4)</a> which could lead to full TX queues.
<!-- 2019/01/31 -->
<li>Incremented efiboot version to 0.14. This is the first version to support <a href="https://man.openbsd.org/softraid">softraid(4)</a>.
<li>Added kernel locking for clocks in clock_gettime.
<li>Adjusted <a href="https://man.openbsd.org/pf.conf">pf.conf(5)</a> to allow non-numerical port specifications in line with other rules and added an error message regarding ranges without start values.
<li>Fixed compilation of amd64 kernel when optimization is disabled.
<li>Improved <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> <a href="https://man.openbsd.org/tbl">tbl(7)</a> centering in <a href="https://man.openbsd.org/mdoc">mdoc(7)</a> documents.
<li>Implemented booting from <a href="https://man.openbsd.org/softraid">softraid</a> on arm64.
<li>Modified <a href="https://man.openbsd.org/unwind">unwind(8)</a> to grant non-privileged users access to status information. Use of reload and logging commands requires root.
<li>Enabled unused IQ/ADC calibration code in the <a href="https://man.openbsd.org/athn">athn(4)</a> driver. Complete and enable noisefloor calibration code.
<li>Adjusted tc_setclock not to rewind the system uptime during resume/unhibernate.
<!-- 2019/01/30 -->
<li>Corrected handling of TLS sigalgs extensions for TLSv1.0/TLSv1.1 for <a href="https://man.openbsd.org/man3/ssl.3">ssl(3)</a>.
<li>Modified <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> to query firmware for RSSI levels and current transmit rate on behalf of <a href="https://man.openbsd.org/ifconfig">ifconfig(1)</a>.
<li>Implemented -msave-args in <a href="https://man.openbsd.org/clang">clang(1)</a>/llvm.
<!-- 2019/01/29 -->
<li>Updated compiler-rt to 7.0.1.
<li>Enabled CRYPTO for arm64 RAMDISK to allow use of <a href="https://man.openbsd.org/softraid">softraid(4)</a> crypto during installation.
<li>Fixed a bug in <a href="https://man.openbsd.org/calendar">calendar(1)</a> that led to duplicate display of events when -B was used.
<li>Improved imsg processing in <a href="https://man.openbsd.org/unwind">unwind(8)</a> to be more paranoid, excepting the control socket (so users can't bring down unwind).
<li>Adjusted <a href="https://man.openbsd.org/pckbc">pckbc(4)</a> to discard unwanted mouse events from the keyboard input channel while on the console.
<li>Modified <a href="https://man.openbsd.org/mail.lmtp">mail.lmtp(8)</a> to strip carriage returns from lmtp responses.
<li>Added a dedicated <a href="https://man.openbsd.org/man2/sysctl.2">sysctl(2)</a> node for <a href="https://man.openbsd.org/witness">witness(4)</a>.
<li>Imported Mesa 18.3.2.
<li>Modified <a href="https://man.openbsd.org/rtwn">rtwn(4)</a> to accept control frames in monitor mode.
<li>Made -N and -r mutually exclusive in <a href="https://man.openbsd.org/pfctl">pfctl(8)</a>, allowing either disabling DNS or enabling additional reverse lookups, not both.
<li>Enabled <a href="https://man.openbsd.org/ixl">ixl(4)</a> on sparc64.
<!-- 2019/01/28 -->
<li>Implemented -a ("archive" mode, synonymous with -RpP) for <a href="https://man.openbsd.org/cp">cp(1)</a>.
<li>Adjusted <a href="https://man.openbsd.org/fstat">fstat(1)</a> to filter multiple pids and multiple users at the same time.
<li>Switched i386 to use lld as the default linker.
<li>Stopped accounting/updating priorities for idle threads, fixing an accounting bug where <a href="https://man.openbsd.org/top">top(1)</a> would report high CPU usage for idle threads of secondary CPUs right after booting.
<li>Implemented the ability to break into <a href="https://man.openbsd.org/ddb">ddb(4)</a> using <a href="https://man.openbsd.org/imxuart">imxuart(4)</a>.
<li>Modified <a href="https://man.openbsd.org/ld.lld">ld.lld(1)</a> to produce binaries compatible with the W^X implementation on i386.
<li>Unveiled _PATH_DEVDB in <a href="https://man.openbsd.org/su">su(1)</a> and <a href="https://man.openbsd.org/wall">wall(1)</a> due to the use of <a href="https://man.openbsd.org/ttyname">ttyname(3)</a>.
<!-- 2019/01/27 -->
<li>Added domain-s (DNS over TLS) to <a href="https://man.openbsd.org/services">services(5)</a>.
<li>Imported LLVM 7.0.1 release.
<li>Implemented DNS over TLS (DoT) in <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<li>Added a kernel fix for a potential panic when a negative value is used to index an array, validating in <a href="https://man.openbsd.org/wscons">wscons(4)</a> the user-supplied device index given to WSMXUIO_ADD_DEVICE.
<li>Adjusted <a href="https://man.openbsd.org/mpe">mpe(4)</a> mpls rtable behaviour to match <a href="https://man.openbsd.org/mpw">mpw(4)</a>, removing a special case in mpls_input. Reworked mpe_input to patch ipv4 checksum and handle ipv6.
<!-- 2019/01/26 -->
<li>Added 'uselease' statement to <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> to replace 'append,' 'default,' 'ignore,' 'prepend' and 'supersede' actions on lease-provided values. 
<li>Improved support for <a href="https://man.openbsd.org/nmea">nmea(4)</a> devices, providing altitude and ground speed values as sensors. 
<li>Added an <a href="https://man.openbsd.org/scp">scp(1)</a> client check for whether filenames sent during remote -> local directory copies satisfy the user-specified wildcard, and a -T flag to disable this functionality in case of this check rejecting wanted files. 
<li>Made <a href="https://man.openbsd.org/ssh-keyscan">ssh-keyscan(1)</a> return a non-zero exit status if it finds no keys.
<li>Added a delay to fix <a href="https://man.openbsd.org/pms">pms(4)</a> touchpad driver issue on ThinkPad X1 Gen6.
<li>Tagged the start of <a href="https://man.openbsd.org/witness">witness(4)</a> output with prefix "witness:" to allow easier data extraction. 
<li>Changed an <a href="https://man.openbsd.org/abort">abort(3)</a> call to an <a href="https://man.openbsd.org/_exit">_exit(2)</a> in <a href="https://man.openbsd.org/crypto">crypto(3)</a> to guarantee termination of the running program without potentially leaving key material in core files.
<li>Fixed a double free in <a href="https://man.openbsd.org/ldap">ldap(1)</a>.
<li>Eliminated a bug wherein the ttl 0 could be incorrectly decremented to ttl 255 for incoming mpls packets.
<!-- 2019/01/25 -->
<li>Fixed microsecond output of timestamp deltas (-tttt) for <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a>.
<li>Enabled <a href="https://man.openbsd.org/ccp">ccp(4)</a> on arm64 and armv7 ramdisks.
<!-- 2019/01/24 -->
<li>Set <a href="https://man.openbsd.org/ssh">ssh(1)</a> to accept the host key fingerprint as a synonym for "yes" when accepting an unknown host key, allowing pasting of fingerprints obtained through other means to have the client perform the comparison for you.
<li>Forced progressmeter to update at the beginning and end of a transfer, fixing a bug where it wouldn't display on quick <a href="https://man.openbsd.org/scp">scp(1)</a>/<a href="https://man.openbsd.org/sftp">sftp(1)</a> transfers.
<li>Fixed a crash on long lines when switching to another file in <a href="https://man.openbsd.org/vi">vi(1)</a>.
<li>Increased default datasize on arm64 to 768M to prepare for building clang 7.
<li>Removed SHA224 and GOST-based signature algorithms from use in TLS 1.2.
<!-- 2019/01/23 -->
<li>Set <a href="https://man.openbsd.org/route">route(8)</a> to display the same flags in RTM_IFINFO messages as <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a>.
<li>Reworked <a href="https://man.openbsd.org/mpw">mpw(4)</a> to be an actual ethernet interface.
<li>Removed support for obsolete "host/port" syntax in <a href="https://man.openbsd.org/ssh">ssh(1)</a>. This is no longer commonly used and may be confused with CIDR notation.
<li>Changed <a href="https://man.openbsd.org/bridge">bridge(4)</a> to only copy packets for span ports if the bridge is up.
<li>Imported <a href="https://man.openbsd.org/unwind">unwind(8)</a>, a hybrid validating stub and recursive resolver. It actively observes the local net to decide how best to resolve names.
<li>Moved 802.11n rateset definitions out of MiRA to make them available to net80211 and drivers in general. Added short guard interval support.
<li>Added the <a href="https://man.openbsd.org/man4/arm64/apm.4">apm(4)</a> subsystem to arm64.
<li>Taught <a href="https://man.openbsd.org/ldpd">ldpd(8)</a> to ask if a potential pseudowire interface is pwe3-capable.
<li>Changed <a href="https://man.openbsd.org/scp">scp(1)</a>/<a href="https://man.openbsd.org/sftp">sftp(1)</a> to sanitize scp filenames via snmprintf. 
<li>Allowed auto-incrementing of certificate serial number for certificates signed in a single command line for <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a>.
<!-- 2019/01/22 -->
<li>Reworked how <a href="https://man.openbsd.org/tcp">tcp(4)</a> md5 signatures are configured in <a href="https://man.openbsd.org/ldpd">ldpd(8)</a>. Now configuration is allowed against a prefix in addition to a neighbour.
<li>Added a specific panic to stop the kernel booting in case of an RPC error during NFS boot of a <a href="https://man.openbsd.org/diskless">diskless(8)</a> host.
<li>Pledged <a href="https://man.openbsd.org/video">video(1)</a> in response to the newly-added promise.
<li>Reordered PCI device assignment in <a href="https://man.openbsd.org/vmd">vmd(8)</a> to fix Linux network interface numbering. Previously, changing assigned disks would change the interface name under some Linux distributions. 
IMPORTANT NOTE - if you have existing Linux guest VMs, you'll need to modify your configuration files on a one-time basis.
<li>Increased maximum MTU of <a href="https://man.openbsd.org/bnxt">bnxt(4)</a> to match the linux driver.
<li>Provided SSL_get_client_ciphers() and SSL_get1_supported_ciphers() (part of the OpenSSL 1.1 API).
<li>Added support to <a href="https://man.openbsd.org/crypto">crypto(3)</a> for xchacha20 and xchacha20-poly1305, extending the nonce range and allowing use of random nonces. 
<!-- 2019/01/21 -->
<li>Modified <a href="https://man.openbsd.org/syspatch">syspatch</a> not to return an error if a rollback is attempted when no patches have been installed.
<li><a href="https://man.openbsd.org/syspatch">Syspatch(8)</a> now warns the user to reboot after installation of a new kernel and identifies the location of errata on the local machine.  
<li>Removed undocumented 24 hour limits for timeouts from <a href="https://man.openbsd.org/select">select(2)</a>, <a href="https://man.openbsd.org/pselect">pselect(2)</a>, <a href="https://man.openbsd.org/poll">poll(2)</a> and <a href="https://man.openbsd.org/ppoll">ppoll(2)</a>.
<li>Added a -J option as a shortcut for -o Proxyjump= to <a href="https://man.openbsd.org/scp">scp(1)</a> and <a href="https://man.openbsd.org/sftp">sftp(1)</a> to match <a href="https://man.openbsd.org/ssh">ssh(1)</a>'s interface.
<li>Switched sntrup implementation source from supercop to libpqcrypto in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Added the ability to parse epoch seconds to <a href="https://man.openbsd.org/strptime">strptime(3)</a>. Added a -f pformat flag to parse the given time with strptime to <a href="https://man.openbsd.org/date">date(1)</a>.
<li>Fixed problem where <a href="https://man.openbsd.org/unveil">unveil(2)</a> system call can leak memory. 
<li>Added video promise to <a href="https://man.openbsd.org/pledge">pledge(2)</a>, allowing ioctls on <a href="https://man.openbsd.org/man4/video.4">video(4)</a> devices selected from <a href="https://man.openbsd.org/video">video(1)</a> and firefox wbrtc implementation.
<li>Introduced a dedicated entry point data structure for file locks.
<li>Provided the initial TLSv1.3 client implementation in LibreSSL.
<li>Introduced -v flags for ssh-add and ssh-pkcs11-helper in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Improved logging to record actual time values and specify whether a TLS certificate is not yet valid or expired when using <a href="https://man.openbsd.org/ntpd">ntpd(8)</a> constraints.  
<li>Factored out several functions duplicated between client and server for <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Removed obsolete SSH v.1 functions in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Enables manual validity checking for constraints in the X.509 certificate in <a href="https://man.openbsd.org/ntpd">ntpd(8)</a>. This should prevent failure of automatic validity checking based on incorrect system time, allowing use of the HTTP header's report of server time.
<li>AMD64 machines will now support 2TB of physical memory, extendable in the future.
<li>Improved handling of CPUID[1].ECX[OSXSAVE] bit.
<li>Adjusted <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> to use Adj-RIB-Out to push UPDATE messages to peers, improving memory usage.
<li>Made handling of MSR_SMBASE and MSR_SMM_MONITOR_CTL more correct in <a href="https://man.openbsd.org/vmm">vmm(4)</a>. These will now generategeneral protection fault as per spec. 
<!-- 2019/01/20 -->
<li>Adjusted mac filters to allow viewing vlan traffic and arp requests on vlans in <a href="https://man.openbsd.org/ixl">ixl(4)</a>.
<li>Added refresh for <a href="https://man.openbsd.org/arp">arp(8)</a> entries that are about to expire. 
<li>Added support in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> and <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a> for group descriptions in control messages that accept a neighbor description.
<li>Added support for ECDSA keys in PKCS#11 tokens.
<li>Added a -T option to test whether <a href="https://man.openbsd.org/ssh">ssh(1)</a> keys in an agent are usable.
<li>Imported xorgproto 2018.4.
<li>Added support for a new <a href="https://man.openbsd.org/kcov">kcov(4)</a> trace mode called KCOV_MODE_TRACE_CMP to trace comparison instructions and switch statements, usable during fuzzing to generate even more coverage.
<li>Set the shell to strip quotation marks from daemon_flags when starting a daemon with <a href="https://man.openbsd.org/rc.d">rc.d(8)</a>, making the details in pexp match what appears in the process list.
<li>Restored correct display of treasure when snake runs over the money in <a href="https://man.openbsd.org/snake">snake(6)</a>. Adjusted cursor location during space warp and display of the pinball bonus.
<li>Changed imsg header definitions to use standard types.
<!-- 2019/01/19 -->
<li>Fixed BN_is_prime_* calls in <a href="https://man.openbsd.org/crypto">libcrypto(3)</a>, <a href="https://man.openbsd.org/openssl">openssl(1)</a>, <a href="https://man.openbsd.org/ssh">ssh(1)</a> and <a href="https://man.openbsd.org/sshd">sshd(8)</a>.
<li>Handled link state change interrupts in <a href="https://man.openbsd.org/ixl">ixl(4)</a>.
<li>Serialized tc_windup() calls and modified some timehands.
<li>Committed refactored <a href="https://man.openbsd.org/ssh">ssh(1)</a> packet parsing API.
<li>Changes to <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> now handle changes to SSID or LLADDR by retrieving a new lease. This mproves performance when join connects to new networks.
<li>Improved join error handling in<a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a>.
<li>Added a pwraction <a href="https://man.openbsd.org/sysctl">sysctl(8)</a> that allows conversion of a power button into a sleep button if desired.
<li>Set an <a href="https://man.openbsd.org/ssh">ssh(1)</a> password prompt to begin with a carriage return to obscure portions of a password entered too early.
<li>Enabled <a href="https://man.openbsd.org/myx">myx(4)</a> on the large ramdisk for amd64. 
<li>Finished randomizing remaining layers of pmap_kernel.
<li>Enabled <a href="https://man.openbsd.org/ixl">ixl(4)</a> on amd64.
<li>Added a TLS record handling implementation. 
<li>Moved boottime into the timehands.
<li>Added a partial port of EC_KEY_METHOD from OpenSSL 1.1 to libcrypto. Added various apis from OpenSSL 1.1 to LibreSSL.
<!-- 2019/01/18 -->
<li>Set removal of a currently active network from the join list to disconnect as well. 
<li>Added "join any" option to allow users to automatically connect via join() to any open wifi network. Known networks are preferred.
<li>Increased the socket buffer size for <a href="https://man.openbsd.org/sendsyslog">sendsyslog(2)</a> to 1 MB for fewer messages dropped by <a href="https://man.openbsd.org/syslogd">syslogd(8)</a>.
<li>Updated to libpixman 0.36.0 in xenocara.
<li>Added protective check for negative length integers in nfs clients and servers, as well as negative length NFS strings.
<li>Reconnected bfd(4) to the build after updating for sounlock() api change.
<li>Set <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> to ignore HUP signals. Starting a new dhclient will handle this use case by killing and executing a new copy.
<li>Began validating relative timeout before sleeping for <a href="https://man.openbsd.org/futex">futex(2)</a>.
<li>Began validating inputs to <a href="https://man.openbsd.org/adjtime">adjtime(2)</a>, <a href="https://man.openbsd.org/settimeofday">settimeofday(2)</a> and <a href="https://man.openbsd.org/clock_settime">clock_settime(2)</a>.
<li>Changed the default digest type to sha256 for <a href="https://man.openbsd.org/openssl">openssl(1)</a>. Added support for pbkdf2 with OpenSSL-compatible flags.
<li>Removed <a href="https://man.openbsd.org/vmm">vmm(4)</a> and disabled <a href="https://man.openbsd.org/vmd">vmd(8)</a> and <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> for i386 systems. 
<!-- 2019/01/17 -->
<li>Renamed TLS extension-handling functions to better fit TLSv1.3.
<li>Enabled use of a 64-bit register when required for inline assembly on sparc64, correcting sparc64 kernels compiled with <a href="https://man.openbsd.org/clang">clang(1)</a>.
<li>Continued work to prepare the network stack for fine-grained locking.
<li>Added support for the SSD1306 OLED display. 
<li>Modified <a href="https://man.openbsd.org/signify">signify(1)</a> and <a href="https://man.openbsd.org/doas">doas(1)</a> to prevent passwords from being retained in memory when errors are encountered.
<li>Prevented users from specifying multiple join or nwid arguments in one <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> call.
<li>Fixed crash conditions in <a href="https://man.openbsd.org/unveil">unveil(2)</a>, along with some cases where unveil would return ENOENT instead of EACCESS. 
<li>Enabled <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> in RAMDISK_CD for amd64, allowing use during installs.
<li>Laid groundwork for TLSv1.3.
<!-- 2019/01/16 -->
<li>Added a -h flag to <a href="https://man.openbsd.org/sftp">sftp(1)</a> <a href="https://man.openbsd.org/chown">chown(8)</a>, <a href="https://man.openbsd.org/chgrp"	>chgrp(1)</a>, and <a href="https://man.openbsd.org/chmod">chmod(1)</a> commands to request they not follow symlinks.   
<li>Added support for a "lsetstat@openssh.com" extension. This replicates the
functionality of the existing SSH2_FXP_SETSTAT operation but does not
follow symlinks. 
<li>Updated to exit <a href="https://man.openbsd.org/syspatch">syspatch(8)</a> correctly after updating itself. Improvement to readability of patches to install on first boot.
<!-- 2019/01/15 -->
<li>For external LSAs the type (1 or 2) is encoded in the metric field. Fixed a problem where <a href="https://man.openbsd.org/ospfd">ospfd(8)</a> and <a href="https://man.openbsd.org/ospf6d">ospf6d(8)</a> overwrite this information when "depend on" is used and the specified interface is down.
<li>Added Allwinner H3/H5 <a href="https://man.openbsd.org/ohci">ohci(4)</a> clocks.
<li>Repaired inter-word spacing of postscript and pdf outputting by <a href="https://man.openbsd.org/mandoc">mandoc(1)</a>.
<li>Corrected setting of default colours in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<li>"No data" frames will no longer be processed in <a href="https://man.openbsd.org/ieee80211_input">ieee80211_input(9)</a> before decryption and incorrectly counted as decryption failures.
<li>Characters that will not be copied are no longer highlightable in <a href="https://man.openbsd.org/tmux">tmux(1).</a>
<!-- 2019/01/14 -->
<li>Allowed programs to set the Checking Disabled flag on DNS requests.
<li>Prevented <a href="https://man.openbsd.org/ntpd">ntpd(8)</a> from starting when an instance is already running.
<li>Added support for building sparc64 kernels with <a href="https://man.openbsd.org/clang">clang(1)</a>.
<li>Fixed <a href="https://man.openbsd.org/mailq">mailq(8)</a> output for <a href="https://man.openbsd.org/smtpctl">smtpctl(8)</a>.
<li>Code review and clean up of <a href="https://man.openbsd.org/locate">locate(1)</a>.
<li>Fixed minor issues in <a href="https://man.openbsd.org/ksh">ksh(1)</a>.
<li>Modified <a href="https://man.openbsd.org/ttyflags">ttyflags(8)</a> to improve memory usage.
<li>Cleanup and improvement of <a href="https://man.openbsd.org/dhclient">dhclient(8).</a>
<!-- 2019/01/13 -->
<li>Redundant debug message removed for <a href="https://man.openbsd.org/iwn">iwn(4)</a>.
<li>Added support for <a href="https://man.openbsd.org/gpio">gpio(4)</a> bus and improved card detection on Octeon systems.
<li>Fixed an off-by-one error in pfkeyv2_sysctl_policydumper().
<li>Improved support for Broadcom trackpad mouse <a href="https://man.openbsd.org/ubcmtp">ubcmtp(4)</a> by validating interfaces and claiming them during *attach().
<li>Validated interfaces for if_ral passed to *match().
<li>Improved <a href="https://man.openbsd.org/syslog">syslog(3)</a> to support program names including "." and "_".
<li>Updated xf86-video-ati to 18.1.0.
<!-- 2019/01/12 -->
<li>Set <a href="https://man.openbsd.org/clang">clang(1)</a> to disable the correct performance options based on architecture. Clang now checks CPU architecture and not system architecture when setting protection flags.
<li>Enabled <a href="https://man.openbsd.org/uhci">uhci(4)</a> USB support for ARMv7.
<!-- 2019/01/11 -->
<li>Antiquated mincore(2) will not be needed and was removed, eliminating an interface that exposed physical machine information unnecessarily.
<li>Bug fixes for <a href="https://man.openbsd.org/otus">otus(4)</a> devices based on the Atheros AR9001U chipset.
<li>Changed <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> html output to display tooltips using css exclusively.
<li>Clarified in documentation that OpenBSD ignores the LC_NUMERIC category as a safety practice, and outlined best practices for portable programs.
<li>Addition of the <a href="https://man.openbsd.org/imxsrc">imxsrc(4)</a> i.MX system reset controller driver, used to assert the reset pins for the PCIe controller, etc.
<!-- 2019/01/10 -->
<li>Bug fixes in <a href="https://man.openbsd.org/pfctl">pfctl(8)</a>.
<li>Added <a href="https://man.openbsd.org/abcrtc">abcrtc(4)</a> Abracon AB1805 real-time clock driver.
<li>Eliminated <a href="https://man.openbsd.org/alloca">alloca(3)</a> call from vioqcow2.c and replaced with <a href="https://man.openbsd.org/malloc">malloc(3)</a> to prevent known-location object placement by an attacker.
<li>Implemented Event()/Signal()/Wait() AML operations for <a href="https://man.openbsd.org/acpi">acpi(4)</a>.
<li>Improved the "not my pool" searching loop in <a href="https://man.openbsd.org/malloc">malloc(3)</a> and made the number of pools variable. Optimization of multi-threaded case by adjusting default number of pools to 8.
<li>Hacking on <a href="https://man.openbsd.org/virtio">virtio(4)</a>, including defines, bug fixing and pci device list.
<li>kern_time.c will not allow cancellation of ongoing <a href="https://man.openbsd.org/adjtime">adjtime(2)</a> until after full permission checks.
<li>Adjusted <a href="https://man.openbsd.org/nc">nc(1)</a> to use <a href="https://man.openbsd.org/memset">memset(3)</a> instead of <a href="https://man.openbsd.org/bzero">bzero(3)</a> for portability and POSIX compliance.
<li><a href="https://man.openbsd.org/pledge">Pledge(2)</a> and <a href="https://man.openbsd.org/unveil">unveil(2)</a> <a href="https://man.openbsd.org/unbound-anchor">unbound-anchor(8)</a>.
<li>Improved portability of <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> to other operating systems. Improved html and css used for html generation.
<li>Prevented <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> from using aperture memory to overlap the framebuffer.
<!-- 2019/01/09 -->
<li>Improved <a href="https://man.openbsd.org/ddb">ddb(4)</a> readability by printing right-aligned hex values.
<li>Fix for <a href="https://man.openbsd.org/rcs">rcs(1)</a> to allow correct lock resolution before expansion of keywords, so expansion can happen with the correct values and files don't show up as modified.
<li>Added the ability for arm64 efiboot to boot from partitions other than "a".
<li>Spleen font enabled in <a href="https://man.openbsd.org/man8/wsfontload.8">wsfontload(8)</a>, along with font selection logic to allow selecting larger fonts when available at runtime in <a href="https://man.openbsd.org/rasops">rasops(9)</a>.
<li>Implemented an if_enqueue handler for <a href="https://man.openbsd.org/vlan">vlan(4)</a>, bypassing the ifq handling for a performance improvement in particular configurations.
<!-- 2019/01/08 -->
<li>Disabled ret-protector and retpoline protections in the <a href="https://man.openbsd.org/clang">clang(1)</a> compiler to regain build performance.
<li>Adjusted <a href=https://man.openbsd.org/httpd>httpd(8)</a> to start when TLS is configured.
</ul>
<p>

</body>
</html>
