<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="copyright" content="This document copyright 1996-2012 by OpenBSD.">
<link rel="canonical" href="http://www.openbsd.org/plus.html">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>.
<br>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.8 and -current</font></h3>
<p>

<ul>
<!-- 2015-09-13 -->
<li>Remove SHA-0 and MD4 support from libcrypto.
<li>Put the 12x22 font on alpha and macppc installation kernels.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/netstart.8">netstart(8)</a>, only print the "IPv6 autoconf" line if there are interfaces to configure.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh-add.1">ssh-add(1)</a>, when adding keys to the agent, don't ignore the comment of keys for which the user is prompted for a passphrase.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add the -e flag to copy-mode to exit copy mode when scrolling off the bottom.
<li>In libcrypto, check ECDH output buffer length and avoid truncation.
<li>Introduce <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/intr_barrier.9">intr_barrier(9)</a>, an interface that guarantees that an interrupt handler that was running has finished.
<li>Introduce sched_barrier(), an interface that acts as a scheduler barrier in the sense that it guarantees that the specified CPU went through the scheduler.
<li>Add the Certplus CA root certificate to /etc/ssl/cert.pem.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/nc.1">nc(1)</a>, display negotiated TLS version and cipher suite in verbose mode.
<li>In libcrypto, add OPENSSL_cpu_caps(), to return the currently running CPU's specific hardware capabilities users of libcrypto might be interested in.
<li>In LibreSSL, if there is hardware acceleration for AES, prefer AES as a symmetric cipher over CHACHA20. Otherwise, prefer CHACHA20 with AES second.
<!-- 2015-09-12 -->
<li>Make if_get() and vlan_input() MP-safe using SRPs.
<li>On arm, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/openssl.1">openssl(1)</a>:
<ul>
<li>Fix the "prime" command: when checking a decimal number for primality, do not unnecessarily convert the original decimal number to hex in the output. Hex numbers explicitly specified with -hex remain unchanged.
<li>Add support for AEAD algorithms to the "speed" command.
<li>Remove support for the SSLEAY_CONF environment variable.
</ul>
<li>Add an ftpproxy6 rc script. <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ftp-proxy.8">ftp-proxy(8)</a> can only open one listening socket at a time, so a second instance of the daemon is required.
<li>Introduce if_input_local(), a function to feed local traffic back to the protocol queues.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping6.8">ping6(8)</a>, avoid out-of-boundary access on invalid or short packet reads.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ddb.4">ddb(4)</a>, show the non-idle, on-proc threads before showing the stack trace when panicking.
<!-- 2015-09-11 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/em.4">em(4)</a>, add support for the 88E1512/88E1514 phys.
<li>Update to sqlite3 3.8.11.1.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/acpicpu.4">acpicpu(4)</a>, work around broken AML by treating FFH vendor 8 the same as vendor 1 (Intel).
<li>Make the powerpc pmap (more) MP-safe. This should make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/pmap.9">pmap_enter(9), pmap_remove(9) and pmap_page_protect(9)</a> safe to use without holding the kernel lock.
<li>Add TLS support to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/nc.1">nc(1)</a>.
<li>Remove RTF_XRESOLVE support from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/route.4">route(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/route.8">route(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/netstat.1">netstat(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/route6d.8">route6d(8)</a>.
<li>Introduce <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/refcnt_init.9">refcnt</a>, a wrapper around reference counts.
<li>Introduce <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtref.9">rtref(9)</a>, a function to increment a reference to a routing entry, and use it in rtable_lookup().
<li>In "<a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ifconfig.8">ifconfig</a> media", stop advertising media with fixed data rates on wireless interfaces.
<li>Don't generate ICMPv6 packets with incorrect checksums for dropped IPv6 packets.
<li>Fix a use-after-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/route.4">route(4)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/openssl.1">openssl(1)</a>, remove the engine command and parameters.
<li>Save/restore MSR_APICBASE during suspend/resume. This re-enables x2apic on the application processors at resume.
<li>Remove the unfinished che(4) driver.
<li>In libtls, do not match a wildcard against a name with no host part.
<li>Make room for media types of the future: extend the ifmedia word to 64 bits.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/netstart.8">netstart(8)</a>, set "inet6 autoconf" individually on interfaces that have rtsol set in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/hosntame.if.5">hostname.if(5)</a>. Previously, netstart tried to configure them all at once.
<li>Take a first step towards making <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ix.4">ix(4)</a> MP-safe.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/mkhybrid.8">mkhybrid(8)</a>, cast the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/isascii.3">isascii(3)</a> argument to unsigned char, to avoid undefined behaviour.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/qle.4">qle(4)</a>, don't copy more sense data than we have space for. This avoids a crash when trying to talk to a Sun STK6140 (although it still doesn't work).
<li>Spoof EFI SYSTEM GPT partitions as MSDOS partitions, as is done with MBR EFI SYSTEM partitions.
<li>No longer grab the kernel lock in the interrupt-safe multi page backend allocator implementation. This is possible because that interrupt-safe uvm maps are now properly locked.
<li>Fix a NULL dereference in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/bpf.4">bpf(4)</a>.
<li>Fix hangs on systems with more than 7 interfaces.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ddb.4">ddb(4)</a>, add ps/o to display just the non-idle on-proc threads.
<li>Don't spoof GPT OpenBSD partitions. Simply record and use the first one found, as is done in MBR processing.
<li>Change device locators type from int to long, for the sake of 64-bit ports without proper device trees.
<!-- 2015-09-10 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a>, expand %i in ControlPath to UID (bz#2449).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/openssl.1">openssl(1)</a>, make the s_time command perform a proper shutdown by default. This allows s_time to benchmark a full TLS connection more accurately. The new -no_shutdown flag restores the previous behaviour.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, instead of having global variables containing the libevent structures, allocate them with malloc. This makes the address space layout more random.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kqueue.2">kqueue(2)</a> support for <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/wsmouse.4">wsmouse(4)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/wskbd.4">wskbd(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/wsmux.4">wsmux(4)</a>. This is needed for the libinput port.
<li>In LibreSSL:
<ul>
<li>Remove support for DTLS_BAD_VER. We do not support non-standard and incomplete implementations.
<li>When loading a DSA key from a raw (without DH parameters) ASN.1 serialization, perform some consistency checks on its "p" and "q" values, and return an error if the checks failed.
</ul>
<li>Enable GPT in the GENERIC kernel.
<li>Avoid division by zero in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/fsck_ext2fs.8">fsck_ext2fs(8)</a>.
<li>Use the full IPv6 source address (rather than only half of it) as input for the syn cache hash. Using only half the address makes it trivial to create syn cache collisions.
<li>Move the if input handler list to an SRP list.
<li>In libc, add hidden _libc_FOO aliases for the system call stubs.
<li>Various cleanups of the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ksh.1">ksh(1)</a> code.
<li>Several libtls API changes and improvements.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add session_last_attached time and format.
<li>Remove link_addr(3).
<!-- 2015-09-09 -->
<li>Add locking for interrupt-safe maps.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/mkhybrid.8">mkhybrid(8)</a>, fix various buffer overflows and make it work on unsigned char platforms.
<li>Add client certificate support to libtls.
<li>Move to the next <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a> API. The flags are now passed as a very simple string.
<li>Introduce reference counts for interfaces. The new if_put() function releases the reference acquired by if_get().
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, plug a memory leak in an error path.
<li>Convert bpf to using an srp list for the list of descriptors.
<li>Implement a <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/srpl_rc_init.9">singly linked list built with SRPs</a>.
<li>On powerpc, it is no longer needed to use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/mprotect.2">mprotect(2)</a> to take away PROT_WRITE. This fixes <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ld.1">ld(1)</a> -Z and paves the way for the new Secure-PLT ABI.
<li>In binutils 2.17, force .ctors, .dtors and .got to be read-only for truly static binaries. This prevents W^X violations on architectures that need an executable GOT (basically BSS-PLT powerpc).
<!-- 2015-09-08 -->
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/nc.1">nc(1)</a> from hanging when writing more than the low water mark of the socket write buffer.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/disklabel.8">disklabel(8)</a>, avoid a SIGSEGV with FGJ malloc.conf flags when a template is used.
<li>The default backend allocator implementation no longer needs to grab the kernel lock.
<!-- 2015-09-07 -->
<li>Build xf86-video-wsfb on amd64 and i386. It can be used by efifb now.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/efifb.4">efifb(4)</a>, make scrolling a bit faster.
<li>Delete ktracing of context switches. It is unused and not particularly useful.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, insert a Message-Id header if necessary.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/httpd.8">httpd(8)</a>, prevent a potential double free introduced in r1.64 of src/usr.sbin/httpd/server.c
<!-- 2015-09-06 -->
<li>It is no longer necessary to grab the kernel lock for allocating and freeing pages in the (default) single page pool backend allocator.
<li>In libc, fix aliasing of sys_errlist, sys_nerr, sys_siglist, and sys_signame to eliminate duplicate copies of the tables and get direct access internally.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/wsfontload.8">wsfontload(8)</a>, avoid a floating point exception when an invalid font width was specified.
<li>On the minirootXX.fs and iso images, create an EFI system partition using <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/fdisk.8">fdisk(8)</a> -b and put the UEFI boot loader on there.
<li>Add support for QEMU PCI serial devices to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/puc.4">puc(4)</a>.
<!-- 2015-09-05 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/awk.1">awk(1)</a>, revert srand() to its old behaviour with regard to what values it returns.
<li>On sgi, remove the need for the memory controller to switch between "fast" and "slow" mode every time a DMA descriptor is updated.
<li>Update to xterm 320.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/pms.4">pms(4)</a>:
<ul>
<li>Improve tap-and-drag detection for ALPS touchpads.
<li>Support Synaptics touchpads without W mode.
</ul>
<li>Use the new resolution framework for wrapping <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/catopen.3">catopen(3)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/catgets.3">catgets(3)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/catclose.3">catclose(3)</a>, and for <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/dbopen.3">dbopen(3)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/wscons.4">wscons(4)</a>, add support for xterm-compatible SGR escapes 39 and 49 (reset fg/bg colour to default).
<li>Some symbol cleanup in libc.
<!-- 2015-09-04 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, add a -b option, to be used together with -i, to add a special boot partition on architectures that need it.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/audio.4">audio(4)</a>, improve the search for candidates for the wskbd "record level" control. This may fix "record level" keys on certain keyboards.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ugen.4">ugen(4)</a>, do not use an intermediary buffer on the stack of the caller when submitting a bulk write request. This means big bulk write requests are no longer split into multiple small transfers which libusb consumers do not expect.
<li>Give every consumer of the radix tree a chance to explicitly initialize the shared data structures, instead of relying on another subsystem to do the initialization. ART kernels should now be fully usable because <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/pf.4">pf(4)</a> and IPSEC properly initialize the radix tree.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sshd.8">sshd(8)</a>, plug minor memory leaks when options are used more than once (bz#2182).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/netstat.1">netstat(1)</a>, fix mbuf memory accounting after the recent *8 pool size change.
<li>Fix a use-after-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/pflow.4">pflow(4)</a>.
<li>Add support for the RTL8168H to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/re.4">re(4)</a>.
<!-- 2015-09-03 -->
<li>In libkvm, fix a race when fetching files from the kernel.
<li>On i386, fix a race in pmap_page_remove_86() and pmap_page_remove_pae().
<li>On amd64, fix a race in pmap_page_remove().
<li>Adapt <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping.8">ping(8)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a>.
<li>In dwc2, fix timeout-related crashes.
<li>Again revert the two uses of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>. They break NFS.
<li>In dwc2, avoid a possible lock recursion panic on transfer timeout.
<li>Modify <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/acpidump.8">acpidump(8)</a> to work on systems booted from efi boot.
<li>Bring back the two uses of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>. The bug it exposed has been fixed.
<li>Unconditionally set the RTF_UP flags when adding a route to the table. This makes <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>-configured default routes usable without relying on the link-state change hooks not present in RAMDISK kernels.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ugen.4">ugen(4)</a>, do not use an intermediary buffer on the stack of the caller when submitting a read request. This means big read requests are no longer split into multiple small transfers which libusb consumers do not expect.
<!-- 2015-09-02 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, remove the session kicking mechanism until it is redesigned. It has an accounting bug leading to some legitimate sessions being kicked if they generate too many consecutive errors.
<li>On sparc64, make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/pmap_kenter_pa.9">pmap_kenter_pa(9)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/pmap_kremove.9">pmap_kremove(9)</a> MP-safe.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, log a message about failed log attempts using <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/sendsyslog.2">sendsyslog(2)</a>.
<li>Revert the two uses of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>. It breaks <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>-configured networks on RAMDISK kernels.
<!-- 2015-09-01 -->
<li>Add the uefi boot loader.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping6.8">ping6(8)</a>, display the correct source address when using a non-default routing table.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/pf.4">pf(4)</a>, don't let route-to, dup-to and reply-to override the block action.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, bind the *:514 UDP socket with SO_REUSEADDR.
<li>On octeon, increase the transfer FIFOs for dwc2. This improves USB performance.
<li>Convert the (cached) route entry checks in ip{,6}_output() to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/doas.1">doas(1)</a>, restrict the exec path only if the rule specifies a command.
<li>Introduce <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>, a function to check if a (cached) route entry can be used or should be released by <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtfree.9">rtfree(9)</a>.
<li>Reject USB requests that could damage the bus integrity.
<li>Fix a use-after-free in tame_namei().
<li>On powerpc, make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/bus_dmamap_load_raw.9">bus_dmamap_load_raw(9)</a> respect the segment size constraint. This makes <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/xhci.4">xhci(4)</a> work on the G5.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/efifb.4">efifb(4)</a>:
<ul>
<li>Only advertise the color depth that is actually supported. This makes the xf86-video-wsfb driver work.
<li>Map the framebuffer in write-combining mode. This significantly speeds up.
</ul>
<!-- 2015-08-31 -->
<li>In static binaries, invoke <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> once to disable it.
<li>On m88k and sparc, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>It is no longer needed to hold the kernel lock for MP-safe bpfs (again).
<li>Bring back the commit that makes bpf_mtap MP-safe by using <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/srp_enter.9">srp</a>, but now using <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/srp_follow.9">srp_follow(9)</a> to avoid races and corruption.
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/srp_follow.9">srp_follow(9)</a> which is necessary to correctly order the taking and releasing of SRP critical sections in situations such as following a chain of data structures linked with SRPs.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>, accept multiple domain names in dhcp option 15 (Domain Name). This allows <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/resolv.conf.5">resolv.conf(5)</a> "search" statements to be built with multiple entries.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, don't truncate program names and hostnames in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/syslog.conf.5">syslog.conf(5)</a>. This fixes matching with IP addresses if syslogd is started with -n.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/efifb.4">efifb(4)</a>, check the driver name so that the driver only attempts to attach when we actually want it to.
<li>In binutils 2.17, raise the number of spare local GOT entries from 5 to 7. This fixes building liblto_plugin.so in the gcc 4.9 port.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a> mode:
<ul>
<li>Return EPERM for <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/chmod.2">*chmod(2)</a> if uid/gid change is not towards cr_uid/cr_gid (effective ids).
<li>Consider <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/getfsstat.2">getfsstat(2)</a> an RPATH.
</ul>
<li>Rather than killing when <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/chmod.2">*chmod(2)</a> is asked to do setuid/setgid, clear those bits in the request and continue.
<li>Do not install connected routes on loopback interfaces. This will allow systems with AUTOCONF'd addresses to see loopback connected routes in the routing table.
<li>Fix a use-after-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/uow.4">uow(4)</a>.
<li>Compute the checksum before looping back the copy of an IPv6 multicast packet.
<!-- 2015-08-30 -->
<li>Add a framework for resolving libc namespace issues.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/gunzip.1">gunzip(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/uncompress.1">uncompress(1)</a>, ignore setuid/setgid settings from a compress/gzip file.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>:
<ul>
<li>Don't die on an assertion if an .Fo macro lacks its mandatory argument.
<li>Drop leading, internal, and trailing blank characters in \o (overstrike) escape sequences.
</ul>
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping6.8">ping6(8)</a>, remove RH0 support.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ddb.4">ddb(4)</a>:
<ul>
<li>Automatically perform traces upon panic.
<li>Shrink the message to save vertical space and point to <a href="http://www.openbsd.org/ddb.html">http://www.openbsd.org/ddb.html</a>.
</ul>
<li>In the kernel, use a global table for domains instead of building a list at run time.
<li>Prepare the kernel to boot from UEFI. Amongst other things, add <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/amd64/efifb.4">efifb(4)</a>.
<li>Enable <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/xhci.4">xhci(4)</a> on macppc.
<li>On macppc, map the whole config1 space based on the size read from the device tree. This allows supplementary PCIe cards to be properly detected and should prevent the kernel from faulting when reading unmapped PCI addresses.
<li>Prevent cards with no midi connectors from attaching <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/midi.4">midi(4)</a> devices.
<!-- 2015-08-29 -->
<li>For <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/chmod.2">*chmod(2)</a>, allow S_ISTXT in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a> mode.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>:
<ul>
<li>Add a minimal implementation of the read-only number register \n(.$ which returns the number of arguments of the current macro.
<li>Implement the escape sequence \\$* which expands to all arguments of the current user-defined macro.
<li>Parse and ignore the escape sequences \, and \/.
<li>Don't escape breakable hyphens yet when we have to reparse the text line because we spring an input line trap.
</ul>
<li>Create a miniroot for alpha.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ws.4">ws(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/synaptics.4">synaptics(4)</a>, read multiple events at once.
<!-- 2015-08-28 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>, check for name changes at most once every 500 milliseconds.
<li>On sparc64, add support for switching CPUs in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ddb.4">ddb(4)</a>.
<li>On sh, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/gdb.1">gdb(1)</a> work again on mips64 PIE binaries by making sure a reasonable 64-bit ABI is selected for 64-bit ELF files instead of a 32-bit ABI.
<li><font color="#e00000">5.8 SECURITY FIX: LibreSSL 2.2.2 incorrectly handles ClientHello messages that do not include TLS extensions, resulting in such handshakes being aborted.</font><br>A source code patch is available for <a href="errata58.html#002_sslhello">5.8</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/amd64/apmd.8">apmd(8)</a>, log battery changes every 10%, not every 21%.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/envy.4">envy(4)</a>, disable interrupts while the midi uart is not in use. This avoids generating unused interrupts when a chatty peripheral is connected but not used.
<li>In binutils 2.17, add support for Irix-style "64-bit" archives.
<li>Fix the build of the drm libraries on sparc64.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/envy.4">envy(4)</a>, fix support of M-Audio Delta 44 cards that use different GPIO pins.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>:
<ul>
<li>Allow environment variables in #{}.
<li>Remove the lock-server option.
<li>Plug a memory leak.
</ul>
<li>In binutils 2.17, do proper GOT slot accounting for symbols that were forced to be local.
<!-- 2015-08-27 -->
<li>Rework the UNIX domain socket garbage collector.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ld.so.1">ld.so(1)</a> work on hppa when _dl_bind_start gets hidden by the version script.
<li>Fix rare occurrences of wrong floating-point values with MP kernels on Octeon.
<li>On mips64, access the image of the floating point registers via p_md.md_regs instead of directly on the frame. This prevents updates from getting lost.
<li>Ensure that <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a> uses its original command-line arguments when it reloads its configuration and re-executes itself.
<li>Prevent a socket that <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/poll.2">poll(2)</a> reports is writable from becoming unwritable before <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/write.2">write(2)</a> is called.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/doas.1">doas(1)</a>, add a type of "auth-doas" to the perm check to allow <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/login.conf.5">login.conf(5)</a> fiddling.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/aucat.1">aucat(1)</a>, allow sparse blocks to be used as silence if samples are encoded as signed integers.
<li>Remove SSLv3 support from LibreSSL.
<!-- 2015-08-26 -->
<li>On hppa, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>Add more overflow checks to libexpat.
<li><font color="#e00000">5.8 SECURITY FIX: in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sshd.8">sshd(8)</a>, inverted logic made PermitRootLogin "prohibit-password" unsafe.</font><br>A source code patch is available for <a href="errata58.html#001_sshd">5.8</a>.
<li>Let MBR have priority over GPT.
<li>Fix an alignment issue in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/bridge.4">bridge(4)</a>.
<!-- 2015-08-25 -->
<li>Add TIOCGETA to the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">TAME_IOCTL</a> list. This is used by <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/readpassphrase.3">readpassphrase(3)</a> and libcurses.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/radiusd.8">radiusd(8)</a>, fix a use-after-free in an error path.
<li>On alpha and mips64, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>Remove exect(2). It was unused and not portable across arches.
<li>Hide many libc symbols that should not be used.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/cron.8">cron(8)</a>, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/ppoll.2">ppoll(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/poll.2">poll(2)</a>. This avoids time conversion issues and eliminates a race condition that could delay SIGCHLD and SIGHUP actions.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, don't use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/strlcpy.3">strlcpy(3)</a> on strings that are not NUL-terminated. This prevents a crash.
<li>Fix an out-of-bounds read in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>.
<li>On i386 and powerpc, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<!-- 2015-08-24 -->
<li>On i386, enforce the kernel W^X policy by properly setting NX (as needed) for kernel text, PTEs, .rodata, data, bss and the symbol regions.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/restore.8">restore(8)</a>, switch from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/utimes.2">utimes(2)</a> to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/utimensat.2">utimensat(2)</a>.
<li>Re-enable GTP support on amd64 and i386.
<li>Remove the -h option from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/radiusd.8">radiusd(8)</a>.
<li>Set the required IPL at the syn-cache pool instead of doing a splsoftnet() explicitly.
<li>Prevent the kernel from removing connected (/64) routes as soon as it configures an AUTOCONF'd address based on a RA.
<li>Fix the GPT code to work with non-DEV_BSIZE disks.
<li>Fix a crash in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>.
<li>Fix a cheating bug in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man6/worm.6">worm(6)</a>.
<li>Fix a crash during "<a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ifconfig.8">ifconfig</a> bridge0 destroy".
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/macppc/bm.4">bm(4)</a>, work around slow transfer speed.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/cwm.1">cwm(1)</a>:
<ul>
<li>Don't allow freeze operations on fullscreen.
<li>Implement _NET_CLIENT_LIST_STACKING.
</ul>
<li>Use IPL_SOFTNET protection for the pool. This fixes a panic.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sysmerge.8">sysmerge(8)</a>:
<ul>
<li>Switch from /usr/share/sysmerge to /var/sysmerge.
<li>Use /var/sysmerge/backups for persistent backups and keep three earlier rotations.
</ul>
<li>Avoid two potential double frees in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a>.
<!-- 2015-08-23 -->
<li>Fix an fd leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mv.1">mv(1)</a>.
<li>Apply a symbol export list to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ld.so.1">ld.so(1)</a> with just the expected dl*() and the two symbols needed by gdb.
<li>Make the Atom S1200 UART work.
<li>In binutils 2.17, introduce -Bsymbolic-functions and related flags.
<li>On amd64 and sparc64, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a>:
<ul>
<li>Perform maximum one cwd lookup.
<li>Fix /tmp handling of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/unlink.2">unlink(2)</a>.
</ul>
<li>Update to xf86-video-geode 2.11.17.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/cwm.1">cwm(1)</a>, make CLIENT_STICKY apply to group hide/unhide rather than client hide/unhide.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/cc.1">cc(1)</a>, make the -msecure-plt option work, which is necessary to generate Secure-PLT ABI code.
<li>On powerpc, add support for the Secure-PLT ABI variant. This will give us better W^X support on powerpc.
<li>In binutils 2.17, fully enable the Secure-PLT ABI.
<li>In libc, restore codeset checking instead of silently falling back to ASCII.
<li>Revert the bpf+srp commits. They cause problems in a bridge setup.
<!-- 2015-08-22 -->
<li>Move to the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(int flags, char *paths[])</a> API/ABI.
<li>Explicitly list the symbols permitted to be exported by libc. This will prevent unintentional additions in the future and sets the stage for reductions.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/doas.1">doas(1)</a>, add the cwd context to the syslog entry.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/urtwn.4">urtwn(4)</a> attach to Netgear WNA1000Mv2.
<li>Ensure <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/tls_read.3">tls_read(3) and tls_write(3)</a> always set outlen to zero on error.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/rc.8">rc(8)</a>, properly handle double quotes in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/wsconsctl.conf.5">wsconsctl.conf(5)</a>.
<!-- 2015-08-21 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ctags.1">ctags(1)</a>, avoid calling <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/system.3">system(3)</a> for the -u option.
<li>Update to libdrm 2.4.64.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix printing of HostKeyAlgorithms=+... when using -G.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sshd.8">sshd(8)</a>, fix expansion of HostkeyAlgorithms=+...
<li>Regenerate <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/moduli.5">moduli(5)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/cwm.1">cwm(1)</a>:
<ul>
<li>Preserve the command list order from .cwmrc.
<li>Hide the "term" and "lock" commands in the application menu.
<li>Don't let _NET_WM_STATE_STICKY apply to the position and size of a window.
<li>Add the client freeze extension to _NET_WM_STATE Atom, allowing flag to persist.
</ul>
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/em.4">em(4)</a>, run the part of the interrupt handler that does rx completion without holding the kernel lock.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/relayd.8">relayd(8)</a>, don't drop the reply messages when "check icmp" is used with many hosts.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/httpd.8">httpd(8)</a>, avoid an HTTP 405 error when using the WebDAV MOVE method.
<li>Whitelist TIOCGPGRP (for <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/tcgetpgrp.3">tcgetpgrp(3)</a>) in TAME_IOCTL.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/azalia.4">azalia(4)</a>, enable beep and CD controls on ALC292.
<!-- 2015-08-20 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sshd.8">sshd(8)</a>, fix the inverted logic that broke PermitRootLogin.
<li>If we're allowed to try and use large pages, we try and fit at least 8 of the items. This amortises the per page cost of an item a bit.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/apci.4">acpi(4)</a>, respect the access size when reading or writing to pci config space and ensure writes are properly aligned. This prevents panics and fixes at least battery status passthrough in vmware and the brightness keys on the X220.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/exp2.3">exp2(3)</a>, avoid left-shifting a negative integer.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/cwm.1">cwm(1)</a>, make the big move and resize bindings match what is in the manual page.
<li>On octeon, use the IPD Clock Count register as a timecounter.
<li>Import an alternative routing table backend based on Yoichi Hariguchi's ART implementation.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/identd.8">identd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/tftpd.8">tftpd(8)</a>, use SOCK_NONBLOCK to avoid a FIONBIO <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/ioctl.2">ioctl(2)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/identd.8">identd(8)</a>, don't exit on unknown <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/write.2">write(2)</a> failures.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/azalia.4">azalia(4)</a>, enable audio on ThinkPad docks.
<li>Reactivate <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/tame.2">tame(2)</a> after release.
<!-- 2015-08-19 -->
<li>Remove unused vesafb code.
<li>Update to libepoxy 1.3.1.
<li>In LibreSSL, properly handle missing TLS extensions in client hello as a non-failure.
<li>In ssh:
<ul>
<li>Don't call <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/unlink.2">unlink(2)</a> with an uninitialised path in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>.
<li>Don't free an uninitialised pointer in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a>.
<li>Fix a double free in an error path.
<li>Improve compat matching for WinSCP and add compat matching for FuTTY.
</ul>
<li>Enable the build of libOSMesa.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/pf.4">pf(4)</a>, keep the IPv6 fragment size as chosen by sender also for packets that are routed on behalf of route-to.
<li>Prevent mips64 FPU emulation from corrupting the page queues in MP systems.
<li>Do not use a stale local address from the routing table. This prevents an interface address without interface pointer causing a uvm_fault.
<li>On octeon, allow booting the SP kernel with a set of CPUs that does not contain core 0.
<li>Unbreak the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ikectl.8">ikectl(8)</a> "ca" commands after the removal of $ENV:: overwriting in LibreSSL.
<!-- 2015-08-18 -->
<li>Remove casts from many calls to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/malloc.3">malloc(3)</a>-like functions
<!-- 2015-08-17 -->
<li>Update the en_US.UTF-8 locale to Unicode 7.0.0.
<li>Remove the last fragments of ST-506 support.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/whois.1">whois(1)</a>, fix whois server detection for new TLDs.
<li>Accept NULL pointers in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/rtfree.9">rtfree(9)</a>. This will simplify upcoming conversions of rt_refcnt-- to rtfree(9).
<!-- 2015-08-16 -->
<li><font color="#e00000">5.6 and 5.7 SECURITY FIX: a change to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sshd.8">sshd(8)</a> resulted in incorrect permissions being applied to pseudo terminal devices, allowing local users to write to (but not read from) them.</font><br>A source code patch is available for <a href="errata57.html#014_sshd">5.7</a>.
<li>No longer hold the kernel lock when calling bpf.
<li>Make bpf_mtap MP-safe by using <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/srp_enter.9">srp</a>.
<li>Avoid a TOCTOU problem in if_input in the bpf handling.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>, come out of copy mode when history is cleared.
<!-- 2015-08-15 -->
<li>Add Loongson 3A support.
<li>On alpha, consider ISA interrupts level-triggered if the SRM has explicitly set them up that way. This makes the kernel correctly run with serial console on the Multia.
<li>Enable AlphaBook 1 support in alpha bsd.rd.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>:
<ul>
<li>Increase the size of acceptable headers lines.
<li>Assume messages use 8-bit bytes by default.
</ul>
<!-- 2015-08-14 -->
<li>Remove charsets other than UTF-8 from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/locale.1">locale(1)</a> output.
<li>Load LC_MESSAGES locale only if the character encoding is UTF-8.
<li>Disable support for loading LC_CTYPE locales other than UTF-8.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/swapctl.8">swapctl(8)</a>, use <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/vfork.2">vfork(2)</a> &amp; <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man2/execl.2">execl(2)</a> instead of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/system.3">system(3)</a> when invoking <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/mount_nfs.8">mount_nfs(8)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/myx.4">myx(4)</a>:
<ul>
<li>Rework the way the packets on the rx rings are tracked.
<li>Move to a per rx ring timeout for refilling empty rings. This gets rid of the locking around the refilling of the rx ring.
<li>Use a single atomic op instead of one per packet when doing global tx free accounting. This allows packets to be sent a little faster.
</ul>
<li>On macppc and powerpc, replace the assembly mutexes with a C implementation.
<!-- 2015-08-13 -->
<li>Add <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/ml_requeue.9">ml_requeue(9)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man9/mq_requeue.9">mq_requeue(9)</a> to prepend mbufs on lists/queues.
<li>Move the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/locate.1">locate(1)</a> database build directory back to /tmp.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, avoid calling poll() multiple times with no timeout, racking up CPU time for no real reason.
<li>Add the -A, -P and -t options to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/nm.1">nm(1)</a>.
<li>Remove discarded attributes from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/disktab.5">disktab(5)</a>.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/rc.8">rc(8)</a>, improve the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/sysctl.conf.5">sysctl.conf(5)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/mixerctl.conf.5">mixerctl.conf(5)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/wsconsctl.conf.5">wsconsctl(5)</a> parsers.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pkg_create.1">pkg_create(1)</a> recreate packages correctly.
<li>Prevent an mbuf leak when no handler consumed that mbuf.
<!-- 2015-08-12 -->
<li>Fix a case where <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/ceill.3">ceill(3)</a> returns 1.0L.
<li>Rework the /etc/rc script.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add the "-of" suffix to the "left", "right", "up" and "down" special tokens for the pane index.
<li>Plug two memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ti.4">ti(4)</a>.
<!-- 2015-08-11 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/acpihpet.4">acpihpet(4)</a>, check for a proper HPET period value during attach.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/file.1">file(1)</a>, add various improvements to the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/magic.5">magic(5)</a> parser.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>, don't make system calls when not being used.
<li>Update time zone data to tzdata2015f.
<li>Fix recent regressions in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ugold.4">ugold(4)</a>.
<!-- 2015-08-10 -->
<li>Improve <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/openssl.1">openssl(1)</a> s_client -starttls xmpp support.
</ul>
<p>

</body>
</html>
