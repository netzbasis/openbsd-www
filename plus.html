<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD -current changes</title>
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD -current changes">
<meta name="keywords" content="openbsd,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2012 by OpenBSD.">
<link rel="canonical" href="http://www.openbsd.org/plus.html">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD -current changelog</font></h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>.
<br>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.7 and -current</font></h3>
<p>

<ul>
<!-- 2015-03-31 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/httpd.8">httpd(8)</a>, zero the tls cert/key length variables when inheriting a server configuration for multiple listen statements in a server block. Otherwise httpd(8) will crash when a listen statement with tls is followed by a listen statement without tls.
<li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a> from warning about SSH1 keys present when compiled without SSH1 support. Also identify SSH1 keys when scanning, even when compiled without SSH1 support.
<li>Fix an fd leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a>.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sort.1">sort(1)</a> ignore $TMPDIR if setuid or setgid.
<li>Don't make the -m and -c options of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sort.1">sort(1)</a> mutually exclusive.
<li>Let the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/vlan.4">vlan(4)</a> mtu be limited by the parent's hard mtu, not the current mtu. This makes it possible to have networks on the "native" (untagged) vlan on an interface at 1500, while setting a child vlan interface's mtu to jumbos.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sort.1">sort(1)</a>:
<ul>
<li>Call atexit() to clean up temporary files on error.
<li>Use mkstemp() to create the temporary file when the output file equals one of the input files.
<li>Preserve the original file mode on the temporary file.
<li>Check for write access on the original file before creating the temporary one.
</ul>
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>, if a user tries to add a comment to a non-RSA1 key and has entered their passphrase, explicitly clear it before exit.
<li>Tell the firmware to shut down the fan management thread on the last generation of G5s. Without this mpi@'s PowerMac11,2 hang when smu(4) attaches.
<li>Move the default font path from /usr/local/lib/X11/fonts to /usr/local/share/fonts to match XDG_DATA_DIR (where Desktop tools will look for by default).
<!-- 2015-03-30 -->
<li>Fix the repeating keys/delay problem that occurs on newer ThinkPads when touching the trackpad/trackstick while typing during the installer in a less invasive way.
<li>Update to xkeyboard-config 2.14.
<li>Some work on macppc G5 interrupts.
<li>Allow <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/syslogd.8">syslogd(8)</a> to read configuration files with arbitrary line lengths. Also ensure the configuration file has been read in full in order to prevent syslogd(8) from running with incomplete configuration.
<li>Update to xcb-util-cursor 0.1.2.
<!-- 2015-03-29 -->
<li>Fix an uninitialised memory read in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh.1">ssh(1)</a> when parsing a config file consisting of a single nul byte.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, handle special punctuation modes for -Tpdf.
<li>Restore user-loaded vga fonts upon switching from X11 to VT and upon resume.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/sparc64/esp.4">esp(4)</a> correctly match SUNW,fas in the boot path.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, remove an extra line when printing AH and RIP packets.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/sparc64/vnet.4">vnet(4)</a> reject packets that are too large.
<li>Revert r1.29 of src/usr.bin/telnet/sys_bsd.c (don't clear ICRNL when editing mode is off, so that character local echo mode don't echo ^M locally) as this causes problems sending CR to some Cisco equipment.
<li>Make sure that <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a> checks specialfiles.
<!-- 2015-03-28 -->
<li>Initial support for the SABRE SD board.
<li>Fix a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/cwm.1">cwm(1)</a>.
<li>Match <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/rtsx.4">rtsx(4)</a> on the RTS5249 found on the Dell XPS 13 and treat it as an RTS5229.
<!-- 2015-03-27 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, avoid overflow on 32-bit time_t systems when converting timeval to NTP time.
<li>For ancient pre-v8 sparc, expand kva.
<li>Move <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/man.conf.5">man.conf(5)</a> from /etc/ to /etc/examples.
<li>Add the "output" directive to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/man.conf.5">man.conf(5)</a>.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/security.8">security(8)</a> handle lines in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/mount.8">mount(8)</a> output that end with "on" (which can happen for NFS mounts).
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/security.8">security(8)</a> handle incomplete lines in /etc/passwd that end before the home directory field.
<!-- 2015-03-26 -->
<li>Add the "manpath" directive to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/man.conf.5">man.conf(5)</a> to override the default search path.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a>, backout -DSHORTENED semantics by default for now.
<li>Add initial support for RFC 7427 signatures to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/iked.8">iked(8)</a>.
<li>Allow input/printing/conversion of terabyte sizes in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>.
<li>Fix configuring MPLS routes on <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/mpe.4">mpe(4)</a>.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/httpd.8">httpd(8)</a> translate CGI environment variables in accordance with RFCs 7230 and 3875.
<li>Ban all-zero curve25519 keys in ssh, as recommended by the latest CFRG curves draft.
<li>Update to libdrm 2.4.60.
<!-- 2015-03-25 -->
<li>Determine if the trackstick buttons are wired to the trackpad and need to be re-routed to the trackstick. Without this change the buttons on 2015 Thinkpads get picked up as extended buttons that show up as scroll up/down. Remove the X1 Carbon 2015 (LEN0048) and X250 (LEN0046) from the top button area/soft buttons quirks list. Also avoid using the quirk list entirely if the capability bit is set.
<li>Save/restore AVX registers and other XSAVE-managed state information when entering/leaving a signal handler like we already do the the FPU and SSE state. This should make it possible to use AVX instructions in signal handlers.
<li>Ignore v1 errors on <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh-add.1">ssh-add</a> -D; only try v2 keys on -l/-L (unless compiled with SSH1 support).
<li>With a per interface IPv6 stateless adress auto configuration flag it is possible to allow IPv6 forwarding and SLAAC at the same time. This is needed for RFC 7084.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ksh.1">ksh(1)</a>, bind the Delete key (ESC[3~) to delete-char-forward.
<!-- 2015-03-24 -->
<li>Fix a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-5.6/man1/ssh.1">ssh(1)</a>.
<li>Work around broken device-tree in PowerMac7,2 and PowerMac7,3 (K2 systems) and get the correct offsets from the "i2s" node.
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-5.6/man4/lmc.4">lmc(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-5.6/man4/san.4">san(4)</a>.
<li>Use chacha20-poly1305@openssh.com as the default cipher in ssh.
<!-- 2015-03-23 -->
<li>Disable SSH protocol 1 in ssh.
<li>Fix a memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/relayd.8">relayd(8)</a>.
<li>Don't let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/rcmdsh.3">rcmdsh(3)</a> fail if it is passed a non resolvable hostname. Instead, silently ignore the fact and instead let the underlying ssh (or $RSH) command handle it.
<li>Fix memory leaks in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/tempnam.3">tempnam(3)</a> error paths.
<li>Fix NFS boot on macppc.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping6.8">ping6(8)</a>, bump the size of the time types on the wire to 64 bit (port of r1.116 of src/sbin/ping/ping.c).
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping.8">ping(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping6.8">ping6(8)</a>, obfuscate the monotonic clock values put on the wire by offsetting them with a random value.
<li>Don't let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen</a> -A try (and fail) to generate ssh v.1 keys when compiled without SSH1 support RSA/DSA/ECDSA keys when compiled without OpenSSL (bz#2369).
<!-- 2015-03-22 -->
<li>Make setting 11a rates and scanning on <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/iwm.4">iwm(4)</a> conditional on the 5GHz support bit in the nvm. <li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/sparc/be.4">be(4)</a> work on sun4c.
<!-- 2015-03-21 -->
<li>Add sysconf() extensions PHYS_PAGES, AVPHYS_PAGES, NPROCESSORS_CONF
and NPROCESSORS_ONLN to <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/getconf.1">getconf(1)</a>.
<li>On amd64, add support for saving/restoring FPU state using the XSAVE/XRSTOR. Limit support to the X87, SSE and AVX state. This gives us (almost) full AVX support.
<li>On sparc, abort attach of iommu requiring boards on non-iommu systems.
<li>Don't let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ldpd.8">ldpd(8)</a> try to send address withdraws to neighbors that are unreachable after an address removal in the system.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ldpd.8">ldpd(8)</a> remove attached adjacencies whenever an interface is disabled for whatever reason. This will speed up the convergence process.
<li>Don't let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ldpd.8">ldpd(8)</a> assign labels for BGP routes. This would be very resource consuming in some scenarios and unnecessary.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/sparc64/vnet.4">vnet(4)</a>, considerably improve the reliability of re-establishing network connections between domains after some sort of hickup.
<li>Let <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/man.1">man(1)</a> fall back to /usr/share/man:/usr/X11R6/man:/usr/local/man as default search path if no path is given via -m, -M, $MANPATH and /etc/man.conf.
<li>Fix a memory leak in libtls with repeated use of tls_connect().
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sort.1">sort(1)</a>, use the hw.usermem sysctl to determine the amount user (non-kernel) memory instead of sysconf(_SC_PHYS_PAGES) (which also counts pages wired by the kernel). Don't try to use a memory buffer larger than the datasize hard resource limit.
<!-- 2015-03-20 -->
<li>Work around buggy AML trying to access PCI config space using PCI function number FFFF.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/renice.8">renice(8)</a>, when mixing historic BSD syntax (where the priority is absolute) with the -n flag (where the priority, according to POSIX, is an increment), the increment specified via -n will only affect the entries that follow it.
<li>Support jumbo frames on <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/re.4">re(4)</a>.
<li>Rather than disabling checksum offload in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/re.4">re(4)</a> for all packets, let it advertise checksum offload to the stack for small (normal-sized) packets and do the checksum itself in software for large packets.
<li>Reintroduce r1.173 of src/sys/kern/subr_pool.c (try and place at least 8 items on a page if we're able to use large page allocators). This was backed out because of fallout on landisk which has since been fixed.
<li>Unbreak WEP/WPA on AR5211 <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ath.4">ath(4)</a> devices by setting hardware WEP keytable entry types to NULL, as done for AR5212 devices. ath(4) uses software crypto.
<li>Re-apply r1.115 of src/sys/dev/pci/if_ix.c (when setting up advanced TX descriptor, use m_getptr to locate the IP or IPv6 header instead of assuming contiguousness of the target buffer across Ethernet and IP/IPv6 headers) that got accidentally reverted.
<!-- 2015-03-19 -->
<li>Fix a memory leak in an error path in LibreSSL (from OpenSSL commit 5e5d53d341fd9a9b9cc0a58eb3690832ca7a511f).
<li>Fix a small memory leak in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sort.1">sort(1)</a>.
<li>Fix CVE-2015-0209, CVE-2015-0286, CVE-2015-0287 and CVE-2015-0289 in LibreSSL.
<li>Deal with half-configured control pipes in dwc2, using the same workaround as in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ehci.4">ehci(4)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ohci.4">ohci(4)</a>.
<!-- 2015-03-18 -->
<li>Use struct timespec internally in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pax.1">pax(1)</a>. This gives nanosecond precision to the -rw option and a basis for support of mtime and atime values in pax-format extended header records.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/route.8">route(8)</a>, instead of embedding interface names in a sockaddr, use their indexes when adding route entries with the -link option. This prevent the ARP layer to take the name of your interface for an Ethernet address.
<li>Rework the virtual memory layout on SRMMU systems (sun4d/sun4m) to use a much lower VM_MIN_KERNEL_ADDRESS, since these systems are not crippled by the Sun-4 MMU hole and have the real 4GB of address space. Kernels running on Sun-4 MMU are not affected and will still be restricted to the existing 128MB of kernel space, with 1GB - 128MB of user space.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/init.8">init(8)</a> static PIE.
<li>Revert r1.52 of src/sys/arch/sparc/dev/zs.c. This reduces the number of spurious zs interrupts seen on sun4c, albeit not completely.
<li>Speed up large directory reading with <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man3/opendir.3">opendir(3)</a>.
<li>Fix <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/mpii.4">mpii(4)</a> on i386.
<!-- 2015-03-17 -->
<li>Reenable the pa1.1 fallback code for sha256 on hppa.
<li>"Handle" wccp2 packets if net.inet.gre.wccp is set to 2 by truncating skipping the wccp 2 header.
<li>Update to libXfont 1.5.1 which contains fixes for CVE-2015-1802, CVE-2015-1803 and CVE-2015-1804.
<li>Fix swap auto-allocation in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/disklabel.8">disklabel(8)</a> for machines with very little memory.
<li>Replace <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sort.1">sort(1)</a> with the implementation from FreeBSD.
<li>In the installer, don't ask about xdm if the answer to the X question was "no" (restores previous behaviour that got lost in r1.780 of src/distrib/miniroot/install.sub).
<li>Prevent a race in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/ehci.4">ehci(4)</a> resulting in an infinite loop printing "ehci_idone" messages.
<li>Fix erratic behaviour of <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/dig.1">dig(1)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/nslookup.1">nslookup(1)</a> when no (valid) nameserver is configured in resolv.conf.
<li>Explicitly handle SIGPIPE in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>. This prevents a "Broken pipe" message from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/csh.1">csh(1)</a>.
<!-- 2015-03-15 -->
<li>Repair a missing state insert in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/pf.4">pf(4)</a>.
<li>Try a third approach for handling pms and pckbd interrupt storms, when there is no pms driver in the kernel.
<li>Update to sqlite3 3.8.7.4.</li>
<li>Avoid a NULL pointer dereference in LibreSSL. A NULL pointer could be dereferenced when X509_REQ_set_pubkey() calls X509_PUBKEY_set() with pktmp. According to OpenSSL, this is the fix for CVE-2015-0288.
<li>Prevent a use-after-free in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/httpd.8">httpd(8)</a>.
<li>Allow the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/xdm.1">xdm(1)</a> greeter to set the background color of the input fields. The "inpColor" resource is used for that.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, avoid off-by-one read access to the termacts array, which could
sometimes result in missing line breaks before subsection headers.
<!-- 2015-03-14 -->
<li>In the installer, eliminate the question "Which cd?" and just show the available cd's in the "Location of sets?" prompt.
<li>Allow for multiple concurrent devopen() calls, and fill the .readdir member
of fs_ops. This makes the "ls" command finally work in the macppc bootloader.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/last.1">last(1)</a>, use ctime_r to avoid a re-entrancy signal race.
<li>Check for the size of the supposed destination address when constructing the Ethernet frame. This prevents an overflow.
<li>The RTL8411 is supported by <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/rtsx.4">rtsx(4)</a>.
<li>Rewrite the <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/sh.1">sh(1)</a> manual page and confine it to document features supported by POSIX-compliant shells.
<!-- 2015-03-13 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ospfd.8">ospfd(8)</a>, wen removing interfaces in the RDE, also remove all the RDE neighbors that are part of that interface. This prevents use-after-free situations.
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/wi.4">wi(4)</a> on PCMCIA work on luna88k.
<!-- 2015-03-12 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/makewhatis.8">makewhatis(8)</a>, fix hardlink detection on platforms having padding in struct inodev, typically 64-bit platforms.
<li>Use the shorter ofwbootfd (without softraid support) on the miniroot. This fixes booting of cdNN.iso and installNN.iso on the Blade 150.
<li>Make "boot -c" support work on a variety of newer machines. This is not expected to harm older machines.
<li>Handle the way some BIOSes initialize newer-style nubbins/touchpads into strange (advanced) modes, which can muddle up the pckbc pipe. This is experienced as 10-second typing pauses and strange repeat behaviour on the RAMDISK (and is caused by "lightly brushing" the touchpad).
<li>Automatic parent interface selection no longer works in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ifconfig.8">ifconfig(8)</a> (see r1.245 of src/sys/netinet/ip_carp.c); carpdev is a required argument now.
<li>Escape ! characters for tab completion in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/ksh.1">ksh(1)</a>. This is necessary if using "set -o csh-history".
<!-- 2015-03-11 -->
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pax.1">pax(1)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tar.1">tar(1)</a>, try to recognize a few well-known compression formats, and report them to the user.
<li>Remove setgid kmem support from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/systat.1">systat(1)</a>. As a result, the netstat view of systat is slightly different.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-5.6/man8/ping.8">ping(8)</a>, bump the size of the time types on the wire to 64 bit.
<li>Remove <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-5.6/man1/tcopy.1">tcopy(1)</a>.
<li>Remove setgid kmem support from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/eeprom.8">eeprom(8)</a>. As a result, groot privileges are generally needed to run this.
<li>Remove setgid kmem support from <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/pstat.8">pstat(8)</a>. As a result, root privileges are needed to use the -d and -v options.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/man.1">man(1)</a>, when interpreting the -O argument as a macro name fails, fall back to showing Nd rather than not showing anything.
<li>The 3160 should work with <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/iwm.4">iwm(4)</a>.
<!-- 2015-03-10 -->
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping.8">ping(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/ping6.8">ping6(8)</a>, <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/traceroute.8">traceroute(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/traceroute6.8">traceroute6(8)</a> resistant to local wall clock changes which can skew the intervals reported or make them go negative.
<li>Add back r1.206 of src/usr.bin/ssh/packet.c that fixed some leaks in error paths and was reverted by mistake.
<li>Set verbosity to 1 (the default is 0) in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/nsd.conf.5">nsd.conf(5)</a> so that incoming notifies and zone xfers are logged.
<li>Improve locking in amd64 pmap using mutexes.
<li>Disable the database file by default in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/nsd.conf.5">nsd.conf(5)</a>. It is believed to be a saner default for the common use case and there is a problem with missing records on shutdown.
<!-- 2015-03-09 -->
<li>Fix a regression in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/man.1">man(1)</a> where the first manual shown is not properly displayed in the pager if that manual is compressed.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/vi.1">vi(1)</a>, display "Search wrapped" even when searching from the end of the file.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/wdc.4">wdc(4)</a>, do not attempt to read the status register unless WDCF_IRQ_WAIT is not set; this used to be the case but got broken in r1.113. This fixes the Acard ATP865-R.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man6/worm.6">worm(6)</a>, make the worm grow faster on larger terminals. This is more fun than starting with an enormous pile of worm at the start.
<li>Don't do IPv6 SLAAC for prefixes with a preferred lifetime of zero, per RFC 4941.
<li>In <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>:
<ul>
<li>Fix vertical spacing at the beginning of tables: <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man7/man.7">man(7)</a> always prints a blank line; <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man7/mdoc.7">mdoc(7)</a> doesn't.
<li>Don't mistreat negative .sp arguments in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man7/mdoc.7">mdoc(7)</a> as large positive ones.
Instead, use the same logic as for <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man7/man.7">man(7)</a>.
<li>Flush the line preceding a table before clearing the right margin, so that that line isn't output with unlimited width.
</ul>
<li>Make <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/httpd.8">httpd(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man8/relayd.8">relayd(8)</a> TLSv1.2-only by default.
<li>Make -DSHORTENED the default in <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a>.
<li>Move i386 pvlists to pool backed, and improve the locking using mutexes.
<!-- 2015-03-08 -->
<li>Various fixes for <a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/pax.1">pax(1)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tar.1">tar(1)</a>:
<ul>
<li>Prevent an archive from escaping the current directory by itself.
<li>For tar without -P, if a path in the archive has any ".." components, then strip everything up to and including the last of them (if it ends in ".." then it becomes ".").
<li>For directories whose times or mode will be fixed up in the clean-up pass, record their dev+ino and then use open(O_DIRECTORY)+fstat() to verify that we're updating the correct directory before using futimens() and fchmod().
<li>Correct buffer overflow in handling of pax extension headers, caught by the memcpy() overlap check.
</ul>
</ul>
<p>


</body>
</html>

