<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD -current Changelog</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
-current Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>.
<br>

<p>
<h3>Changes made between OpenBSD 6.6 and -current</h3>
<p>

<ul>
<!-- 2019/11/02 -->
<li>Hooked <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> up to the build.
<li>Enabled CMS in <a href="https://man.openbsd.org/ssl">ssl(8)</a>.
<!-- 2019/11/01 -->
<!-- 2019/10/31 -->
<li>Added initial infrastructure for U2F/FIDO support in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Constrained and corrected the routes being deleted when applying a new lease in <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> and corrected route comparison. This corrects a network failure with "arpresolve: ... route contains no information".
<li>Released OpenBGPD 6.6p0.
<li>Added support for RSA-PSS to <a href="https://man.openbsd.org/crypto">crypto(3)</a>.
<li>Added an ASR resolver type to <a href="https://man.openbsd.org/unwind">unwind(8)</a>, using the libc asynchronous resolver directly with DHCP-provided nameservers. Switched to the ASR resolver rather than DHCP when behind a captive portal.
<li>Made background scans less frequent when choosing the same AP.
<!-- 2019/10/30 -->
<!-- 2019/10/29 -->
<li>Began marking stale prefixes in the Adj-RIB-out during graceful reload of <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> and fixed prefix_withdraw to check the correct prefix flags before removing a prefix from the update or withdraw tree.
<li>Added an Intel 9260 wifi card <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<li>Added Marvell 88SE9128 AHCI <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<li>Fixed a bug with the fatal <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> non-existing prefix call to ensure the missing prefix is inserted into the prefix tree.
<li>Fixed <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> crashes where the nexthop_runners tail queue was corrupted.
<!-- 2019/10/28 -->
<li>Improved error handling for <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> connection attempts.
<!-- 2019/10/27 -->
<li>Added code laying groundwork for the use of multiple processors on armv7.
<!-- 2019/10/26 -->
<li>Made <a href="https://man.openbsd.org/vmx">vmx(4)</a> transmit mp-safe.
<li>Corrected <a href="https://man.openbsd.org/clock_getres">clock_getres(2)</a> to provide the actual resolution of a given clock.
<li>Released <a href="https://www.opensmtpd.org/announces/release-6.6.0.txt">OpenSMTPD 6.6.0</a>.
<!-- 2019/10/25 -->
<li>Allowed switching to framebuffer "glass" console on armv7, mirroring previous changes to arm64.
<!-- 2019/10/24 -->
<li>Added retguard for octeon/mips64.
<li>Added a missing <a href="https://man.openbsd.org/unveil">unveil(2)</a> of /etc/shells for <a href="https://man.openbsd.org/passwd">passwd(1)</a>.
<li>Printed IP addresses in verbose mode in <a href="https://man.openbsd.org/nc">nc(1)</a>.
<!-- 2019/10/23 -->
<li>Reverted change to <a href="https://man.openbsd.org/nc">nc(1)</a> fixing the -N flag due to regress failures for tls.
<li>Added <a href="https://man.openbsd.org/sxisid">sxisid(4)</a>, a driver to read the on-chip eFuses.
<li>Added new -N name option to <a href="https://man.openbsd.org/ftp">ftp(1)</a>, allowing calling scripts to change the progname and produce better error messages.
<li>Updated timezone information to reflect DST changes for Fiji and Norfolk Island.
<li>Rewrote the time validity check for mtfs in <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> to correctly account for the timezone.
<!-- 2019/10/22 -->
<li>Added the system clock interface <a href="https://man.openbsd.org/nanoboottime">nanoboottime(9)</a>, returning the UTC time at which the system booted in seconds and nanoseconds.
<!-- 2019/10/21 -->
<li>Added <a href="https://man.openbsd.org/sxipwm">sxipwm(4)</a> and <a href="https://man.openbsd.org/pwmbl">pwmbl(4)</a>, drivers which jointly add support for the backlight controller on the Pinebook.
<li>On newer ThinkPads reporting HKEY version > 1, allowed <a href="https://man.openbsd.org/acpivout">acpivout(4)</a> to claim backlight controls rather than <a href="https://man.openbsd.org/wscons">wscons(4)</a>, allowing use of the fine-grained backlight BCL steps defined in <a href="https://man.openbsd.org/acpi">acpi(4)</a>.
<li>Changed <a href="https://man.openbsd.org/acpivout">acpivout(4)</a> to increment and decrement screen brightness based only on brightness level changes of 5% or higher.
<li>Prevented an infinite loop when aborting <a href="https://man.openbsd.org/ulpt">ulpt(4)</a>'s pipe after an I/O error.
<!-- 2019/10/20 -->
<li>Implemented the "parallel boot" feature on compatible sparc64 firmware.
<!-- 2019/10/19 -->
<li>Corrected a memory leak in <a href="https://man.openbsd.org/unwind">unwind(1)</a> when the list of DHCP resolvers doesn't change.
<!-- 2019/10/18 -->
<li>Stopped checking whether the IPv6 source address of a neighbor advertisement is from a neighbor's address, not required in accordance with RFC 4861.
<li>Added support for dynamic queue allocation (DQA) to <a href="https://man.openbsd.org/iwm">iwm(4)</a>.
<!-- 2019/10/17 -->
<li>Corrected cache flush operations on arm64 which were being incorrectly treated as write operations. This fixes a bug where cache flushing caused Firefox to abort.
<li>Fixed the -N flag for <a href="https://man.openbsd.org/nc">nc(1)</a> to shut down the socket when input stops, or when tls is in use and either side of the socket goes away.
<!-- 2019/10/16 -->
<li>Added <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> output formats for bird and CSV.
<li>Fixed a potential NULL dereference for revoked hostkeys in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<!-- 2019/10/15 -->
<li>Added support for percentage sizes to <a href="https://man.openbsd.org/tmux">tmux(1)</a> resize-pane ("-x 10%") and changed split-window and join-pane -l to accept similar percentages, deprecating the -p option.
<li>Made sparc64 <a href="https://man.openbsd.org/autoconf">autoconf(4)</a> try to match the devid against the bootpath if link->port_wwn doesn't work, helping when booting off of an <a href="https://man.openbsd.org/mpii">mpii(4)</a> controller.
<!-- 2019/10/14 -->
<li>Used <a href="https://man.openbsd.org/unveil">unveil(2)</a> to reduce filesystem access in <a href="https://man.openbsd.org/vmstat">vmstat(8)</a>, <a href="https://man.openbsd.org/iostat">iostat(8)</a> and <a href="https://man.openbsd.org/systat">systat(1)</a>.
<li>Changed <a href="https://man.openbsd.org/httpd">httpd(8)</a> to send a 408 response when a timeout happens while headers are being received, but close the connection if no request is received.
<!-- 2019/10/13 -->
<li>Added an <a href="https://man.openbsd.org/azalia">azalia(4)</a> quirk for the ALC285 on the X1C7 to avoid a clicking noise on the headphone output.
<!-- 2019/10/12 -->
<li>Moved to 6.6-current.
</ul>
