Architectural goals (cont.)

Objects are stored in lists according to type. 
Meta-information "migrates" to the top.
Positional information (such as @mode/@owner) migrates to every object

Goal achieved:

Clean design that scales well.

That "core" of pkg_add is just glorified MANIFEST handling.
It has to be perfect !
