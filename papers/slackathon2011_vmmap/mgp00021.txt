
Algorithm - version 2

Let's play safe for the initial commit:
implement new code to behave as the old allocator
leave smart optimizations for separate diffs
enable easy reverting of allocator strategy

Nearly done, still have 1 bug to fix.
I hope to be ready for unlock.

