<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD: -stable</title>
<meta name="copyright" content="This document copyright 1996-2016 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/stable.html">
<style type="text/css">
  h3, h4 { color: #0000e0; }
</style>
</head>

<body bgcolor="#ffffff" text="#000000">

<h2>
<a href="index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">-stable</font>
</h2>
<hr>
<p>

<h3 id="whatis">What is the <i>-stable</i> branch?</h3>

The <i>-stable</i> branch is one of OpenBSD's three
<a href="faq/faq5.html#Flavors">flavors</a>.
It consists of the release and <a href="errata.html">errata</a> patches.
More precisely:

<ul>
  <li>Errata entries are made for bugs which affect many people.
  <li>Other patches may be merged into <i>-stable</i> if they affect a few
      people in drastic ways.
  <li>New or changed functionality, hardware support or APIs will <i>not</i> be
      merged.
</ul>

If you're running the -release branch of OpenBSD on amd64 or i386, you can
simply use the <a href="http://man.openbsd.org/syspatch">syspatch(8)</a> utility
to upgrade any files in need of
<a href="faq/faq10.html#Patches">security or reliability fixes</a>.
This page describes how to follow the -stable branch via CVS and building
from source.

<h3 id="getting">Getting <i>-stable</i> source code</h3>

To obtain the <i>-stable</i> tree for OpenBSD 6.1, <b>it is recommended that you
<a href="anoncvs.html#getting">check out</a> a fresh source tree</b> from an
<a href="anoncvs.html">AnonCVS</a> server.
If you need to <a href="anoncvs.html#updating">update</a> on top of a
pre-existing source tree, you need to do
<a href="https://cvsweb.openbsd.org/cgi-bin/cvsweb/~checkout~/www/faq/current.html?rev=1.808&content-type=text/html#r20161014a">
some cleanup</a> first.
<!-- XXXrelease - remove paragraph above and reinstate paragraph below
To obtain the <i>-stable</i> tree for a particular release of OpenBSD, you can
<a href="anoncvs.html#updating">update</a> on top of a pre-existing source tree
or you can <a href="anoncvs.html#getting">check out</a> a fresh source tree from
an <a href="anoncvs.html">AnonCVS</a> server.
-->

<p>
<!-- XXXrelease - bump href to upgradeXX.html -->
Do not attempt to go from one release to another via source.
Instead, please follow the <a href="faq/upgrade61.html">upgrade guide</a> for
the release before compiling <i>-stable</i>.

<h3 id="building">Building OpenBSD <i>-stable</i></h3>

Details on building OpenBSD from source are provided in steps 2 and 3 of the
<!-- XXXrelease - bump man link -->
<a href="http://man.openbsd.org/OpenBSD-6.1/release">release(8)</a> manual.
There is also an FAQ on <a href="faq/faq5.html">building the system</a>.
If you have a number of machines to keep on the <i>-stable</i> branch, you may
wish to <a href="faq/faq5.html#Release">make a release</a>.

<h4>Rebuild the kernel and reboot</h4>

Replace <tt>GENERIC</tt> with <tt>GENERIC.MP</tt> for multiprocessor systems.

<blockquote><pre>
# <b>cd /sys/arch/$(machine)/conf</b>
# <b>config GENERIC</b>
# <b>cd /sys/arch/$(machine)/compile/GENERIC</b>
# <b>make clean && make obj && make && make install</b>
# <b>reboot</b>
</pre></blockquote>

If your system has trouble booting the new kernel, you can easily go back
and reboot from the old kernel, now called <tt>obsd</tt>.

<h4>Rebuilding the userland</h4>

<blockquote><pre>
# <b>rm -rf /usr/obj/*</b>
# <b>cd /usr/src</b>
# <b>make obj && make build</b>
</pre></blockquote>

</body>
</html>
