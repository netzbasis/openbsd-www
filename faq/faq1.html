<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<!-- If you make edits to any FAQ documents, please start each sentence
     on a new line, and try to keep the general formatting consistent
     with the rest of the pages -->

<title>OpenBSD FAQ: Introduction to OpenBSD</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="copyright"     content="This document copyright 1998-2016 by
                                    OpenBSD.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../openbsd.css">
<link rel="canonical" href="http://www.openbsd.org/faq/faq1.html">
</head>

<body bgcolor="#ffffff" text="#000000">

<h2>
<a href="../index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">FAQ - Introduction to OpenBSD</font>
<small>
<a href="index.html" style="font-weight:normal; float:right">[FAQ Index]</a>
</small>
</h2>
<hr>

<ul>
  <li><a href="#WhatIs"     >Tell me about OpenBSD</a>
  <li><a href="#Platforms"  >Hardware support</a>
  <li><a href="#ReallyFree" >Is OpenBSD really free?</a>
  <li><a href="#Included"   >What is included with OpenBSD?</a>
  <li><a href="#Support"    >Supporting the project</a>
  <li><a href="#MailLists"  >Mailing lists</a>
  <li><a href="#ManPages"   >Manual pages</a>
  <li><a href="#Bugs"       >Reporting bugs</a>
  <li><a href="#OtherUnixes">Migrating to OpenBSD</a>
</ul>
<hr>

<h2 id="WhatIs">Tell me about OpenBSD</h2>

The <a href="../index.html">OpenBSD</a> project produces a freely available,
multi-platform 4.4BSD-based UNIX-like operating system.
Our <a href="../goals.html">goals</a> place emphasis on correctness, security,
standardization, and portability.

<h3>Why might I want to use it?</h3>

Some reasons why we think OpenBSD is a useful operating system:

<ul>
  <li>OpenBSD runs on many different hardware platforms.
  <li>OpenBSD is thought of by many security professionals as the most
      <a href="../security.html">secure</a> UNIX-like operating system, as a
      result of a never-ending comprehensive source code security audit.
  <li>OpenBSD is a full-featured UNIX-like operating system available in source
      form at no charge.
  <li>OpenBSD integrates cutting-edge security technology suitable for
      <a href="pf/example1.html">building firewalls</a> and
      <a href="../crypto.html">private network services</a> in a distributed
      environment.
  <li>OpenBSD benefits from strong ongoing development in many areas, offering
      opportunities to work with emerging technologies with an international
      community of programmers and end users.
  <li>OpenBSD attempts to minimize the need for customization and tweaking.
      For the vast majority of users, OpenBSD "Just Works" on their hardware for
      their application.
</ul>

<h3 id="Next">When is the next release?</h3>

The OpenBSD team makes a new release every six months, with target release dates
in May and November.
More information on the development cycle can be found
<a href="faq5.html#Flavors">here</a>.

<h2 id="Platforms">Hardware support</h2>

OpenBSD runs on the following <a href="../plat.html">platforms</a>:
<!-- XXXrelease - verify platform list is current -->

<p>
<table>
<tr><td><a href="../alpha.html">alpha</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../amd64.html">amd64</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../hppa.html">hppa</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../i386.html">i386</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../landisk.html">landisk</a></td>
<td>Download only</td></tr>

<tr><td><a href="../loongson.html">loongson</a></td>
<td>Download only</td></tr>

<tr><td><a href="../luna88k.html">luna88k</a></td>
<td>Download only</td></tr>

<tr><td><a href="../macppc.html">macppc</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../octeon.html">octeon</a></td>
<td>Download only</td></tr>

<tr><td><a href="../sgi.html">sgi</a></td>
<td>Download only</td></tr>

<tr><td><a href="../socppc.html">socppc</a></td>
<td>Download only</td></tr>

<tr><td><a href="../sparc.html">sparc</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../sparc64.html">sparc64</a></td>
<td><b>Available on CD</b></td></tr>

<tr><td><a href="../zaurus.html">zaurus</a></td>
<td>Download only</td></tr>
</table>

<p>
<b>Available on CD</b> means the <a href="../orders.html">official CD set</a>
includes that platform and a small selection of useful
<a href="faq15.html">packages</a>.
CD ISO images can be downloaded for most other platforms.
These are not the same as the official CD sets, however.
Some platforms also have USB disk images available.

<p>
People sometimes ask why we support so many odd machines.
The short answer is "because we want to."
If enough skilled people (and sometimes "enough" is only one really skilled
person!) wish to maintain support for a platform, it will be supported.
The OpenBSD platforms include 32 bit and 64 bit processors, little and big
endian machines and many different designs.
Supporting unusual platforms has helped produce a higher-quality code base.

<h3>Selecting hardware</h3>

Selecting appropriate hardware to run your OpenBSD system on is important, as it
can mean the difference between success and failure of a project.

<ul>
  <li><b>Let the application choose the hardware:</b>
      It is usually better to make an adjustment to the hardware you were
      planning on using rather than compromising on your application design
      because you have something you really wanted to use.
  <li><b>Identify your bottlenecks:</b>
      Don't pay extra for the cutting-edge processor if your application is
      restricted by disk I/O.
      Don't pay for fast disks if your system is restricted by network speed.
  <li><b>Keep it simple:</b>
      Simple hardware usually has simple problems.
      Complex hardware that isn't supposed to ever break may take you a long
      time to repair when it breaks anyway.
  <li><b>Use multiple disks:</b>
      Instead of buying one large disk, buy multiple smaller disks.
      While this may cost more, distributing the load over multiple spindles
      will decrease the amount of time necessary to access data on the disks.
      With more spindles, you can get more reliability and faster data access
      with RAID.
  <li><b>Avoid cheap network adapters:</b>
      OpenBSD supports a plethora of cheap network adapters.
      These adapters work great in home systems and low or moderate throughput
      business and research environments.
      If you need high throughput and low impact on your server, you are better
      off buying a quality network adapter.
</ul>

<h2 id="ReallyFree">Is OpenBSD really free?</h2>

OpenBSD is all free.
The binaries are free.
The source is free.
All parts of OpenBSD have reasonable copyright terms permitting free
redistribution.
This includes the ability to reuse most parts of the OpenBSD source tree, either
for personal or commercial purposes.
OpenBSD includes no further restrictions other than those implied by the
original BSD license.
Software which is written under stricter licenses cannot be included in the
regular distribution of OpenBSD.
This is intended to safeguard the free use of OpenBSD.
For example, OpenBSD can be freely used for personal use, for academic use, by
government institutions, by non-profit making organizations and by commercial
organizations.
OpenBSD, or parts of it, can also be freely incorporated into commercial
products.

<p>
This isn't to say we would object to
<a href="../donations.html">financial or hardware support</a> in thanks.
In fact, it is stunning how little support of any kind comes from companies that
depend upon OpenBSD or OpenSSH for their products.

<p>
For further reading on other popular licenses, read the
<a href="../policy.html">OpenBSD copyright policy</a>.

<p>
The maintainers of OpenBSD support the project largely from their own pockets.
This includes the time spent programming for the project, equipment used to
support the many ports, the network resources used to distribute OpenBSD to you,
and the time spent answering questions and investigating users' bug reports.
The OpenBSD developers are not independently wealthy, and even small
contributions of time, equipment and resources make a big difference.

<h2 id="Included">What's included with OpenBSD?</h2>

OpenBSD is distributed with a number of third-party software products,
including:

<ul>
  <li><a href="http://www.x.org/wiki/">X.org</a>, the X Window environment.
  <li><a href="http://gcc.gnu.org">GCC</a>, the GNU C Compiler.
  <li><a href="https://www.perl.org">Perl</a>
  <li><a href="http://www.sqlite.org">SQLite</a>
  <li><a href="http://www.nlnetlabs.nl/projects/nsd/">NSD</a> and
      <a href="http://www.nlnetlabs.nl/projects/unbound/">Unbound</a>,
      the authoritative name server and recursive caching resolver.
  <li><a href="http://www.gnu.org/software/ncurses/">ncurses</a>
  <li><a href="http://www.gnu.org/software/binutils/">binutils</a>
  <li><a href="http://www.gnu.org/software/gdb/gdb.html">gdb</a>
</ul>

The OpenBSD team often patches third party products, typically to improve the
security or quality of the code.
Much <a href="../innovations.html">home-grown software</a> is also included.
Additional applications are available as <a href="faq15.html">packages</a>.

<h3 id="HowAbout">Why is/isn't <i>ProductX</i> included?</h3>

People often ask why a particular product is or isn't included with OpenBSD.
The answer is based on two things: the wishes of the developers and
compatibility with the <a href="../goals.html">goals</a> of the project.
Licensing is often the biggest problem: we want OpenBSD to remain usable
by any person anywhere in the world for any purpose.

<h2 id="Support">Supporting the project</h2>

We are greatly indebted to the people and organizations that have
contributed to the OpenBSD project.

<p>
OpenBSD has a constant need for several types of support from the user
community.
If you find OpenBSD useful, you are strongly encouraged to find a way to
contribute.
If none of the suggestions below are right for you, feel free to propose an
alternative by sending email to
<a href="mailto:donations@openbsd.org">donations@openbsd.org</a>.

<ul>
  <li><a href="../orders.html">Buy an OpenBSD CD set or shirt</a>.
      It includes the current full release of OpenBSD and is bootable on many
      platforms.
      It also generates revenue to support the OpenBSD project.
      This inexpensive three CD set includes the full source.
      Your friends could also use a copy!
      OpenBSD CDs always come with very nice artwork and stickers.
      Your system isn't fully complete without these.
      We also have <a href="../tshirts.html">shirts</a> for your wearing
      enjoyment.
  <li><a href="../donations.html">Donate money</a>.
      The project has a constant need for cash to pay for equipment, network
      connectivity, and expenses relating to CD publishing.
      Manufacturing CDs requires an up-front out-of-pocket investment for the
      OpenBSD developers, without guaranteed return.
      Even small donations make a profound difference.
  <li><a href="../want.html">Donate equipment and parts</a>.
      The project has a constant need for general and specific hardware.
      Items such as SCSI, SATA and SAS disks and various types of RAM are always
      welcome.
      For other types of hardware such as computer systems and motherboards, you
      should inquire as to current need.
  <li>Donate your time and skills.
      Programmers who enjoy writing operating systems are naturally always
      welcome, but there are dozens of other ways that people can be useful.
      Follow the <a href="../mail.html">mailing lists</a> and help answer
      questions from other users.
  <li>Help maintain documentation by submitting new FAQ material
      (to <a href="mailto:misc@openbsd.org">misc@openbsd.org</a>).
      Form a local <a href="../groups.html">users group</a> and get your friends
      hooked on OpenBSD.
      Make a case to your employer for using OpenBSD at work.
      If you're a student, talk to your professors about using OpenBSD as a
      learning tool for Computer Science or Engineering courses.
      It's also worth mentioning one of the most important ways you should not
      try to help the OpenBSD project: do not waste your time engaging in
      operating system flame wars.
      It does not help the project to find new users and can cause substantial
      harm to important relationships that developers have with other
      developers.
</ul>

<h2 id="MailLists">Mailing lists</h2>

The OpenBSD project maintains several mailing lists that users should
subscribe to and follow.
Some of the more popular lists are:

<ul>
  <li><b>announce</b> - Project announcements and errata notices.
      This is a low-volume list.
  <li><b>bugs</b> - Bugs received via
      <a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
      and discussion about them.
  <li><b>misc</b> - General user questions and answers.
      This is the most active list, and should be the "default" for most
      questions and discussion.
  <li><b>ports</b> - Discussion of the OpenBSD ports tree.
  <li><b>ports-changes</b> - Automated mailing of ports-specific CVS source
      tree changes.
  <li><b>source-changes</b> - Automated mailing of CVS source tree changes.
      Every time a developer commits a change to the OpenBSD source, xenocara
      or www tree, CVS will send out a copy of the commit message via this list.
  <li><b>tech</b> - Discussion of technical topics for OpenBSD developers and
      advanced users.
</ul>

Before posting a question on any mailing list, please check the archives for
most common questions have been asked repeatedly.
While it might be the first time you have encountered the problem or question,
others on the mailing lists may have seen the same question several times in the
last week, and may not appreciate seeing it again.
If asking a question possibly related to hardware, always include a full
<a href="http://man.openbsd.org/dmesg">dmesg(8)</a>.

<p>
You can find several archives, other guidelines and more information on the
<a href="../mail.html">mailing list page</a>.
Subscriptions can be easily managed via the
<a href="https://lists.openbsd.org">web interface</a>.

<h2 id="ManPages">Manual pages</h2>

OpenBSD comes with extensive documentation in the form of man pages.
Considerable effort is made to make sure the man pages are up-to-date and
accurate.
The man pages are the authoritative source of information for OpenBSD.

<p>
Here is a list of some useful manual pages for new users:

<ul>
  <li><a href="http://man.openbsd.org/afterboot">afterboot(8)</a>
  - things to check after the first complete boot.
  <li><a href="http://man.openbsd.org/help">help(1)</a>
  - help for new users and administrators.
  <li><a href="http://man.openbsd.org/hier">hier(7)</a>
  - layout of filesystems.
  <li><a href="http://man.openbsd.org/man">man(1)</a>
  - display the manual pages.
  <li><a href="http://man.openbsd.org/adduser">adduser(8)</a>
  - add new users.
  <li><a href="http://man.openbsd.org/reboot">reboot(8), halt(8)</a> and
  <a href="http://man.openbsd.org/shutdown">shutdown(8)</a>
  - stop and restart the system.
  <li><a href="http://man.openbsd.org/dmesg">dmesg(8)</a>
  - redisplay the kernel boot messages.
  <li><a href="http://man.openbsd.org/doas">doas(1)</a>
  - don't log in as root, but run commands as root.
  <li><a href="http://man.openbsd.org/tmux">tmux(1)</a>
  - terminal multiplexer.
  <li><a href="http://man.openbsd.org/ifconfig">ifconfig(8)</a>
  - configure network interface parameters.
  <li><a href="http://man.openbsd.org/login.conf">login.conf(5)</a>
  - format of the login class configuration file.
  <li><a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
  - report a bug you've found.
</ul>

You can find all the OpenBSD man pages on the web at
<a href="http://man.openbsd.org">http://man.openbsd.org</a> as well as on
your computer if you installed the <tt>manXX.tgz</tt> file set.

<p>
In general, if you know the name of a command or a manual page, you can
read it by executing <tt>man command</tt>.
For example: <tt>man vi</tt> to read about the vi editor.
If you don't know the name of the command, or if <tt>man command</tt> doesn't
find the manual page, you can search the manual page database by executing
<tt>apropos something</tt> or <tt>man -k something</tt>, where "something"
is a likely word that might appear in the title of the manual page you're
looking for.

<blockquote><pre>
$ <b>apropos "time zone"</b>
tzfile (5) - time zone information
zdump (8) - time zone dumper
zic (8) - time zone compiler
</pre></blockquote>

The parenthetical numbers indicate the section of the manual in which that page
can be found.
In some cases, you may find manual pages with identical names living in separate
sections of the manual.
For example, assume that you want to know the format of the configuration files
for the cron daemon.
Once you know the section of the manual for the page you want, you would execute
<tt>man n command</tt>, where n is the manual section number.

<blockquote><pre>
$ <b>man -k cron</b>
cron (8) - clock daemon
crontab (1) - maintain crontab files for individual users
crontab (5) - tables for driving cron
$ <b>man 5 crontab</b>
</pre></blockquote>

Occasionally, having a hardcopy of the man page can be useful.
Here are the guidelines to making a printable copy of a man page.

<h3>How do I get a man page with no control characters?</h3>

If you pipe the output of the man command to your editor, you will see that it
contains a lot of control characters.
To remove them, issue

<blockquote><pre>
$ <b>man &lt;command&gt; | col -b</b>
</pre></blockquote>

<h3>How can I get a print-ready copy of a man page?</h3>

If you wish to print out a man page, the printer-friendly formats <tt>.ps</tt>
or <tt>.pdf</tt> are available.

<blockquote><pre>
$ <b>man -Tps &lt;command&gt; &gt; outfile.ps</b>
</pre></blockquote>

Replace <tt>ps</tt> with <tt>pdf</tt> if you prefer the latter.

<h3>What are info files?</h3>

Some of the documentation for OpenBSD comes in the form of
<a href="http://man.openbsd.org/info">info(1)</a> files.
This is an alternative form of documentation provided by GNU.
For example, to view information about the GNU compiler,
<a href="http://man.openbsd.org/gcc">gcc(1)</a>, type:

<blockquote><pre>
$ <b>info gcc</b>
</pre></blockquote>

After using info, you will really appreciate our man pages!

<h3>How do I get color man pages on XTerm?</h3>

The default configuration file for
<a href="http://man.openbsd.org/xterm">xterm(1)</a> does not display color man
pages.
In order to get color output, copy the file
<tt>/usr/X11R6/share/X11/app-defaults/XTerm-color</tt>
to your home directory, and rename it <tt>.Xdefaults-XTerm-color</tt>.
The color XTerm defaults file can now be activated by adding the following
line to <tt>.Xdefaults</tt> in your home directory:

<blockquote><pre>
#include ".Xdefaults-XTerm-color"
</pre></blockquote>

This file contains all the settings you need to enable color in XTerm.
However, three lines need to be uncommented by removing the leading "!":

<blockquote><pre>
!*VT100*colorULMode: on
!*VT100*underLine: off
!*VT100*colorBDMode: on
</pre></blockquote>

The rest of the included file allows you to choose colors for various settings.
The relevant ones to the man pages are:

<blockquote><pre>
*VT100*colorUL: yellow
*VT100*colorBD: white
</pre></blockquote>

That produces rather hellish looking man pages.
We suggest red for colorUL and magenta for colorBD.

<p>
X11 also provides the <a href="http://man.openbsd.org/xman">xman(1)</a>
graphical interface to the manual pages.

<h3>How do I write my own manual page?</h3>

Consult <a href="http://man.openbsd.org/mdoc">mdoc(7)</a>.

<h2 id="Bugs">Reporting bugs</h2>

Reporting bugs is one of the most important responsibilities of end users.
However, if this is your first OpenBSD experience, be realistic: you probably
did not discover an unknown problem.
Sometimes faulty hardware can mimic a software bug, so verify the current
condition of your hardware before deciding you have found a bug.

<p>
Very detailed information is required to diagnose most serious issues.
For example, the following would be an appropriate bug report:

<blockquote><pre>
From: smartuser@example.com
To: bugs@openbsd.org
Subject: 3.3-beta panics on a SPARCStation2

OpenBSD 3.2 installed from an official CD-ROM installed and ran fine
on this machine.

After doing a clean install of 3.3-beta from a mirror, I find the
system randomly panics after a period of use, and predictably and
quickly when starting X.

This is the dmesg output:

[...]

This is the panic I got when attempting to start X:

panic: pool_get(mclpl): free list modified: magic=78746572; page 0xfaa93000;
 item addr 0xfaa93000
Stopped at      Debugger+0x4:   jmpl            [%o7 + 0x8], %g0
http://www.openbsd.org/ddb.html describes the minimum info required in bug
reports. Insufficient info makes it difficult to find and fix bugs.
ddb> trace
[...]

Thank you!
</pre></blockquote>

See <a href="../report.html">report.html</a> for more information on
creating and submitting bug reports.
Detailed information about your hardware is necessary if you think the bug
<i>could be in any way</i> related to your hardware or hardware configuration.
Usually, <a href="http://man.openbsd.org/dmesg">dmesg(8)</a> output is
sufficient in this respect.
A detailed description of your problem is necessary.
You will note that the dmesg described the hardware, the text explained why
Smart User thought the system was not broken (ran 3.2 properly), how this
crash was caused (starting X), and the output of the debugger's
<tt>ps</tt> and <tt>trace</tt> commands.
In this case, Smart User provided output captured on a
<a href="faq7.html#SerCon">serial console</a>.
If you cannot do that, take a picture of the screen and attach it to your bug
report.
(This was a real problem, and the information in the above report helped
lead to a repair of this issue which impacted Sun4c systems.)

<p>
If Smart User had a working OpenBSD system, they would have used the
<a href="http://man.openbsd.org/sendbug">sendbug(1)</a> utility to submit
his bug report.
Obviously, you can't use
<a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
when your system won't boot, but you should use it whenever possible.
You will still need to include detailed information about what happened,
the exact configuration of your system, and how to reproduce the problem.
The <a href="http://man.openbsd.org/sendbug">sendbug(1)</a> command requires
that your system be able to send email.
The OpenBSD mail server uses <a href="http://man.openbsd.org/spamd">spamd(8)</a>
for greylisting, so it may take half an hour or so before the mail server
accepts your bug report.
Please be patient.

<p>
After submitting a bug report via sendbug(1), you may be contacted by
developers for additional information or with patches that need testing.
You can also monitor the archives of the
<a href="mailto:bugs@openbsd.org">bugs@openbsd.org</a> mailing list - details
on the <a href="../mail.html">mailing list page</a>.

<h3>How do I get more useful info for developers?</h3>

Here are a few additional tips:

<p>
<b>Lost the "panic" message?</b>

<p>
Under some circumstances, you may lose the very first message of a panic,
stating the reason for the panic.
This is a very important message, so you want to report it as well.
You can get this back by using the "show panic" command in <tt>ddb></tt>
like this:

<blockquote><pre>
ddb> <b>show panic</b>
0:      kernel: page fault trap, code=0
ddb>
</pre></blockquote>

In this case, the panic string was "Kernel: page fault trap, code=0".

<p>
<b>Note for SMP systems</b>

<p>
You should get a trace from each processor as part of your report:

<blockquote><pre>
ddb{0}> <b>trace</b>
pool_get(d05e7c20,0,dab19ef8,d0169414,80) at pool_get+0x226
fxp_add_rfabuf(d0a62000,d3c12b00,dab19f10,dab19f10) at fxp_add_rfabuf+0xa5
fxp_intr(d0a62000) at fxp_intr+0x1e7
Xintr_ioapic0() at Xintr_ioapic0+0x6d
--- interrupt ---
idle_loop+0x21:
ddb{0}> <b>machine ddbcpu 1</b>
Stopped at      Debugger+0x4:   leave
ddb{1}> <b>trace</b>
Debugger(d0319e28,d05ff5a0,dab1bee8,d031cc6e,d0a61800) at Debugger+0x4
i386_ipi_db(d0a61800,d05ff5a0,dab1bef8,d01eb997) at i386_ipi_db+0xb
i386_ipi_handler(b0,d05f0058,dab10010,d01d0010,dab10010) at i386_ipi_handler+0x
4a
Xintripi() at Xintripi+0x47
--- interrupt ---
i386_softintlock(0,58,dab10010,dab10010,d01e0010) at i386_softintlock+0x37
Xintrltimer() at Xintrltimer+0x47
--- interrupt ---
idle_loop+0x21:
ddb{1}>
</pre></blockquote>

Repeat the <tt>machine ddbcpu x</tt> followed by <tt>trace</tt> for each
processor in your machine.

<h3>How do I gather further information from a kernel crash?</h3><p>

A typical kernel crash on OpenBSD might look like this:
(things to watch for are marked with bold font)

<blockquote><pre>
kernel: page fault trap, code=0
Stopped at    <b>_pf_route+0x263</b>:        mov     0x40(%edi),%edx
ddb>
</pre></blockquote>

The first command to run from the <tt>ddb></tt> prompt is "trace"
(see <a href="http://man.openbsd.org/ddb">ddb(4)</a>
for details):

<blockquote><pre>
ddb> <b>trace</b>
<b>_pf_route</b>(e28cb7e4,e28bc978,2,1fad,d0b8b120) at <b>_pf_route+0x263</b>
_pf_test(2,1f4ad,e28cb7e4,b4c1) at _pf_test+0x706
_pf_route(e28cbb00,e28bc978,2,d0a65440,d0b8b120) at _pf_route+0x207
_pf_test(2,d0a65440,e28cbb00,d023c282) at _pf_test+0x706
_ip_output(d0b6a200,0,0,0,0) at _ip_output+0xb67
_icmp_send(d0b6a200,0,1,a012) at _icmp_send+0x57
_icmp_reflect(d0b6a200,0,1,0,3) at _icmp_reflect+0x26b
_icmp_input(d0b6a200,14,0,0,d0b6a200) at _icmp_input+0x42c
_ipv4_input(d0b6a200,e289f140,d0a489e0,e289f140) at _ipv4_input+0x6eb
_ipintr(10,10,e289f140,e289f140,e28cbd38) at _ipintr+0x8d
Bad frame pointer: 0xe28cbcac
ddb>
</pre></blockquote>

This tells us what function calls lead to the crash.<p>

To find out the particular line of C code that caused the crash, you can
do the following:

<p>
Find the source file where the crashing function is defined in.
In this example, that would be pf_route() in sys/net/pf.c.
Recompile that source file with debug information:

<blockquote><pre>
# <b>cd /usr/src/sys/arch/$(uname -m)/compile/GENERIC</b>
# <b>rm pf.o</b>
# <b>DEBUG=-g make pf.o</b>
</pre></blockquote>

Then use <a href="http://man.openbsd.org/objdump">objdump(1)</a>
to get the disassembly:

<blockquote><pre>
# <b>objdump --line --disassemble --reloc pf.o &gt;pf.dis</b>
</pre></blockquote>

In the output, grep for the function name (pf_route in our example):

<blockquote><pre>
# <b>grep "&lt;_pf_route&gt;:" pf.dis</b>
0000<b>7d88</b> &lt;_pf_route&gt;:
</pre></blockquote>

Take this first hex number and add the offset from the 'Stopped at' line:
<b>0x7d88</b> + <b>0x263</b> == <b>0x7feb</b>.

<p>
Scroll down to that line (the assembler instruction should match the one
quoted in the 'Stopped at' line), then up to the nearest C line number:

<blockquote><pre>
# <b>more pf.dis</b>
/usr/src/sys/arch/i386/compile/GENERIC/../../../../net/pf.c:<b>3872</b>
    7fe7:       0f b7 43 02             movzwl 0x2(%ebx),%eax
    <b>7feb</b>:       8b 57 40                mov    0x40(%edi),%edx
    7fee:       39 d0                   cmp    %edx,%eax
    7ff0:       0f 87 92 00 00 00       ja     8088 &lt;_pf_route+0x300&gt;
</pre></blockquote>

So, it's precisely line <b>3872</b> of pf.c that crashes:

<blockquote><pre>
# <b>cat -n pf.c | head -n 3872 | tail -n 1</b>
3872          if ((u_int16_t)ip-&gt;ip_len &lt;= ifp-&gt;if_mtu) {
</pre></blockquote>

Note that the kernel that produced the crash output and the object file
for objdump must be compiled from the exact same source file, otherwise
the offsets won't match.

<p>
If you provide both the ddb trace output and the relevant objdump section,
that's very helpful.

<h2 id="OtherUnixes">Migrating to OpenBSD</h2>

If you learned Unix from any of the <a href="../books.html">good books</a>
on general Unix, understanding the Unix philosophy and then extending your
knowledge to a particular platform, you will find OpenBSD to be familiar.

<p>
One important difference between OpenBSD and many other operating systems
is the documentation.
OpenBSD developers take great pride in the system
<a href="http://man.openbsd.org">man pages</a>.
The man pages are <i>the</i> authoritative OpenBSD documentation.
Developers making a change to the system are expected to update the man pages
along with their change to the system code.
It is expected that a user will check the man pages before asking for help on
the mailing lists.

<p>
Here are some of the commonly encountered differences between OpenBSD and other
Unix variants.

<ul>
  <li>OpenBSD is a BSD-style Unix, following the 4.4BSD design closely.
      Linux and Solaris are System V style systems.
      Some Unix-like operating systems mix System V and BSD characteristics.
      A common place where this causes confusion is the
      <a href="faq10.html#rc">startup scripts</a>.
      OpenBSD uses the <a href="http://man.openbsd.org/rc">rc(8)</a> system.

  <li>OpenBSD is a complete system, intended to be kept in sync.
      It is not a kernel plus utilities that can be upgraded separately from
      each other.

  <li>OpenBSD maintains a <a href="faq15.html#Ports">ports tree</a> to provide
      third party software.
      Pre-compiled <a href="faq15.html#PkgMgmt">packages</a> are created and
      distributed by the OpenBSD ports team.

  <li>OpenBSD uses CVS to keep track of source code changes.
      OpenBSD pioneered <a href="../anoncvs.html">anonymous CVS</a>, which
      allows anyone to extract the full source tree for any version of OpenBSD
      at any time.
      There also is a <a href="http://cvsweb.openbsd.org">web interface</a>.

  <li>OpenBSD produces an official release available via
      <a href="../orders.html">CD</a> and <a href="../ftp.html">HTTP</a> every
      six months on a <a href="faq1.html#Next">predefined schedule</a>.
      <a href="faq4.html#Snapshots">Snapshots</a> for all supported platforms
      are made semi-regularly with the current development code.

  <li>OpenBSD has gone through heavy and continual security auditing to ensure
      the quality and security of the code.

  <li>The names of hard disks are usually <tt>/dev/wd</tt> (SATA/IDE) and
      <tt>/dev/sd</tt> (SCSI-like disks, such as USB drives).

  <li>OpenBSD does not support journaling filesystems.
      Instead we use the <a href="faq14.html#SoftUpdates">soft updates</a>
      feature of the Fast File System (FFS).

  <li>OpenBSD comes with <a href="pf/index.html">Packet Filter (PF)</a>.
      This means that Network Address Translation, queuing, and filtering are
      handled through <a href="http://man.openbsd.org/pfctl">pfctl(8)</a>,
      <a href="http://man.openbsd.org/pf">pf(4)</a> and
      <a href="http://man.openbsd.org/pf.conf">pf.conf(5)</a>.

  <li>OpenBSD's default shell is
      <a href="http://man.openbsd.org/ksh">ksh(1)</a>, which is based on the
      <a href="http://web.cs.mun.ca/~michael/pdksh/">public domain Korn
      shell</a>.
      Shells such as bash and many others can be added from
      <a href="faq15.html#PkgMgmt">packages</a> or <a href="faq15.html#Ports">
      ports</a>.

  <li>Devices are named by driver, not by type.
      In other words, there are no <tt>eth0</tt> and <tt>eth1</tt> devices.
      It would be <tt>em0</tt> for an Intel PRO/1000 Ethernet card,
      <tt>bge0</tt> for a Broadcom BCM57xx or BCM590x Ethernet device,
      <tt>ral0</tt> for a RaLink wireless device, etc.

  <li>OpenBSD/i386, amd64, and several other platforms use a two layer disk
      partitioning system, where the first layer is the
      <a href="faq14.html#fdisk">fdisk</a> BIOS-visible partition.
      The second layer is the <a href="faq14.html#disklabel">disklabel</a>, a
      traditional BSD partitioning system.

  <li>Some other operating systems encourage you to customize your kernel for
      your machine.
      OpenBSD users are encouraged to simply use the standard GENERIC kernel
      provided and tested by the developers.
</ul>

<p>
</body>
</html>
