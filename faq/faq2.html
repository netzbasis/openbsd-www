<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<!-- If you make edits to any FAQ documents, please start each sentence
     on a new line, and try to keep the general formatting consistent
     with the rest of the pages -->

<title>2 - Getting to Know OpenBSD</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="copyright"     content="This document copyright 1998-2016
                                    by OpenBSD.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../openbsd.css">
<link rel="canonical" href="http://www.openbsd.org/faq/faq2.html">
</head>

<body bgcolor="#ffffff" text="#000000">

<h2>
<a href="../index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">FAQ 2 - Getting to Know OpenBSD</font>
<small>
<a href="index.html" style="font-weight:normal; float:right">[FAQ Index]</a>
</small>
</h2>
<hr>

<ul>
<li><a href="#MailLists" >2.1 - Mailing lists</a>
<li><a href="#ManPages"  >2.2 - Manual pages</a>
<li><a href="#Bugs"      >2.3 - Reporting bugs</a>
</ul>

<hr>

<h2 id="MailLists">2.1 - Mailing lists</h2>

The OpenBSD project maintains several popular mailing lists which users
should subscribe to and follow.
To subscribe to a mailing list, send an email to
<a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>.
That address is an automated subscription service.
In the body of your message, on a single line, you should include a
subscribe command for the list you wish to join.
For example:

<blockquote><pre>
<strong>subscribe announce</strong>
</pre></blockquote>

<p>
The list processor will reply to you, asking for confirmation of your
intent to join the list, so that others can not subscribe you to a flood
of unwanted email.
The message will include instructions for several different ways to confirm,
including a <a href="https://lists.openbsd.org">list server</a> web page link,
responding to the confirmation message or responding to
<tt>majordomo@openbsd.org</tt>.
Use whatever method is convenient to you.
You will note that all three techniques involve a unique and time
limited identifying number, such as <tt>A56D-70D4-52C3</tt>, again to
make sure <i>you</i> are really the person who requested this mailing list
subscription (this is <i>real</i> "opt-in").

<p>
Once you have confirmed your intent to join, you will be immediately
added to the list, and the list processor will notify you that you were
successfully added.

<p>
To unsubscribe from a list, you will again send an email to
<a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a>.
It might look like this:

<blockquote><pre>
<strong>unsubscribe announce</strong>
</pre></blockquote>

<p>
If you have any difficulties with the mailing list system, please first
read the help file which can be obtained by sending an email
to <a href="mailto:majordomo@openbsd.org">majordomo@openbsd.org</a> with
a message body of "help".

<p>
Your subscription to the OpenBSD lists can also be maintained through
the web interface at
    <a href="https://lists.openbsd.org">lists.openbsd.org</a>.

<p>
Some of the more popular OpenBSD mailing lists are:

<p>
<ul>
    <li><b>announce</b> - Project announcements and errata notices.
    This is a low-volume list.
    <li><b>misc</b> - General user questions and answers.
    This is the most active list, and should be the "default" for most
    questions and discussion.
    <li><b>bugs</b> - Bugs received via
    <a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
    and discussion about them.
    <li><b>source-changes</b> - Automated mailing of CVS source tree changes.
    Every time a developer commits a change to the OpenBSD source, xenocara
    or www tree, CVS will send out a copy of the (usually brief) commit message
    via this list.
    <li><b>ports</b> - Discussion of the OpenBSD ports tree.
    <li><b>ports-changes</b> - Automated mailing of
    ports-specific CVS source tree changes.
    <li><b>advocacy</b> - Discussion on advocating OpenBSD
    and topics that are just too off-topic for <b>misc</b>.
</ul>

<p>
Before posting a question on <b>misc</b> or any other mailing list, please
check the archives for most common questions have been asked repeatedly.
While it might be the first time you have encountered the problem or question,
others on the mailing lists may have seen the same question several times
in the last week, and may not appreciate seeing it again.
If asking a question possibly related to hardware, <i>always</i> include a
<a href="http://man.openbsd.org/dmesg">dmesg(8)</a>!

<p>
You can find several archives, other mailing list guidelines and more
information on the <a href="../mail.html">mailing lists page</a>.

<p>
An unofficial mailing list that may be of interest to new users
of OpenBSD and Unix is the
<a href="http://mailman.theapt.org/listinfo/openbsd-newbies">OpenBSD Newbies</a>
list.

<h2 id="ManPages">2.2 - Manual pages</h2>

OpenBSD comes with extensive documentation in the form of manual pages.
Considerable effort is made to make sure the man pages are up-to-date
and accurate.
In all cases, the man pages are considered the authoritative source of
information for OpenBSD.

<p>
To access the manual pages, be sure that you
installed the correct <a href="faq4.html#FilesNeeded">file set</a>.

<p>
Here is a list of some useful manual pages for new users:

<ul>
  <li><a href="http://man.openbsd.org/afterboot">afterboot(8)</a>
  - things to check after the first complete boot.
  <li><a href="http://man.openbsd.org/help">help(1)</a>
  - help for new users and administrators.
  <li><a href="http://man.openbsd.org/hier">hier(7)</a>
  - layout of filesystems.
  <li><a href="http://man.openbsd.org/man">man(1)</a>
  - display the manual pages.
  <li>
  <a href="http://man.openbsd.org/intro.1">intro(1)</a>
  - introduction to general commands.
  Also see the intros to the other sections of the manual:
  <a href="http://man.openbsd.org/intro.2">intro(2)</a>,
  <a href="http://man.openbsd.org/intro.3">intro(3)</a>,
  <a href="http://man.openbsd.org/intro.4">intro(4)</a>,
  <a href="http://man.openbsd.org/intro.5">intro(5)</a>,
  <a href="http://man.openbsd.org/intro.6">intro(6)</a>,
  <a href="http://man.openbsd.org/intro.7">intro(7)</a>,
  <a href="http://man.openbsd.org/intro.8">intro(8)</a> and
  <a href="http://man.openbsd.org/intro.9">intro(9)</a>.
  <li><a href="http://man.openbsd.org/adduser">adduser(8)</a>
  - add new users.
  <li><a href="http://man.openbsd.org/reboot">reboot(8), halt(8)</a> and
  <a href="http://man.openbsd.org/shutdown">shutdown(8)</a>
  - stop and restart the system.
  <li><a href="http://man.openbsd.org/dmesg">dmesg(8)</a>
  - redisplay the kernel boot messages.
  <li><a href="http://man.openbsd.org/doas">doas(1)</a>
  - don't log in as root, but run commands as root.
  <li><a href="http://man.openbsd.org/tmux">tmux(1)</a>
  - terminal multiplexer
  <li><a href="http://man.openbsd.org/ifconfig">ifconfig(8)</a>
  - configure network interface parameters.
  <li><a href="http://man.openbsd.org/login.conf">login.conf(5)</a>
  - format of the login class configuration file.
  <li><a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
  - report a bug you've found.
</ul>

<p>
You can find all the OpenBSD man pages on the web at
<a href="http://man.openbsd.org">http://man.openbsd.org</a>
as well as on your computer if you install the <tt>manXX.tgz</tt> file
set.

<p>
In general, if you know the name of a command or a manual page, you can
read it by executing <tt>man command</tt>.
For example: <tt>man vi</tt> to read about the vi editor.
If you don't know the name of the
command, or if <tt>man command</tt> doesn't find the manual page,
you can search the manual page database by executing <tt>apropos something</tt>
or <tt>man -k something</tt>, where "something" is a
likely word that might appear in the title of the manual page you're
looking for.
For example:

<blockquote><pre>
$ <b>apropos "time zone"</b>
tzfile (5) - time zone information
zdump (8) - time zone dumper
zic (8) - time zone compiler
</pre></blockquote>

<p>
The parenthetical numbers indicate the section of the manual in which
that page can be found.
In some cases, you may find manual pages with identical names living in
separate sections of the manual.
For example, assume that you want to know the format of the configuration
files for the cron daemon.
Once you know the section of the manual for the page you want, you would
execute <tt>man n command</tt>, where n is the manual section number.

<blockquote><pre>
$ <b>man -k cron</b>
cron (8) - clock daemon
crontab (1) - maintain crontab files for individual users
crontab (5) - tables for driving cron
$ <b>man 5 crontab</b>
</pre></blockquote>

<p>
Occasionally, having a hardcopy of the man page can be useful.
Here are the guidelines to making a printable copy of a man page.

<h3>How do I display a man page source file (i.e. one whose filename
ends in a number, like tcpdump.8)?</h3>

These are found throughout the src tree and are installed to man page
directories like <tt>/usr/share/man/man1</tt> in their unformatted state.
To view these pages, simply:

<blockquote><pre>
$ <b>mandoc -a &lt;file&gt;</b>
</pre></blockquote>


<h3>How do I get a plain man page with no formatting or control
characters?</h3>

This is helpful to get the man page straight, with no non-printable
characters.

<blockquote><pre>
$ <b>man &lt;command&gt; | col -b</b>
</pre></blockquote>

<h3>How can I get a PostScript copy of a man page that's print-ready?</h3>

The PostScript versions of the man pages look very nice.
They can be printed or viewed on-screen with a program like gv (GhostView).
GhostView can be found in our <a href="faq15.html">packages collection</a>.
Use the following
<a href="http://man.openbsd.org/mandoc">mandoc(1)</a>
command options for getting a PostScript version from an OpenBSD system
man page:

<blockquote><pre>
$ <b>mandoc -Tps &lt;file&gt; &gt; outfile.ps</b>
</pre></blockquote>

Note that <tt>&lt;file&gt;</tt> must be the man page source file (probably a
file that ends in a number, e.g. <tt>tcpdump.8</tt>).

<h3>What are info files?</h3>

Some of the documentation for OpenBSD comes in the form of info files,
typically contained in <tt>/usr/share/info</tt>.
This is an alternative form of documentation provided by GNU.
Many of these files are more up to date
than the manual pages provided by GNU, and can be accessed with the
<a href="http://man.openbsd.org/info">info(1)</a>
command.
For example, to view information about the GNU compiler,
<a href="http://man.openbsd.org/gcc">gcc(1)</a>,
type:

<blockquote><pre>
$ <b>info gcc</b>
</pre></blockquote>

After using info, you will really appreciate our man pages!

<h3>How do I get color man pages on XTerm?</h3>

The default configuration file for
<a href="http://man.openbsd.org/xterm">xterm(1)</a>
does not display color man pages.
In order to get color output, copy the file
<tt>/usr/X11R6/share/X11/app-defaults/XTerm-color</tt>
to your home directory, and rename it <tt>.Xdefaults-XTerm-color</tt>.
The color XTerm defaults file can now be activated by adding the following line
to <tt>.Xdefaults</tt> in your home directory:

<blockquote><pre>
#include ".Xdefaults-XTerm-color"
</pre></blockquote>

This file contains all the settings you need to enable color in XTerm.
However, three lines need to be uncommented by removing the leading "!" before
this can work:

<blockquote><pre>
!*VT100*colorULMode: on
!*VT100*underLine: off
!*VT100*colorBDMode: on
</pre></blockquote>

The rest of the included file allows you to choose colors for various settings.
The relevant ones to the man pages are:

<blockquote><pre>
*VT100*colorUL: yellow
*VT100*colorBD: white
</pre></blockquote>

That produces rather hellish looking man pages, so customize as necessary:
may we suggest red for "colorUL" and magenta for "colorBD"?

There is also a man page viewer for X11 available,
<a href="http://man.openbsd.org/xman">xman(1)</a>,
which provides an alternative (graphical) interface to the manual pages.
See the manual pages for xterm and xman for more information.

<h3>How do I write my own manual page?</h3>

If you wish to write your own man page for an application you have written,
there is a handy reference guide provided in
<a href="http://man.openbsd.org/mdoc">mdoc(7)</a>.

<h2 id="Bugs">2.3 - Reporting bugs</h2>

Reporting bugs is one of the most important responsibilities of end users.
However, if this is your first OpenBSD experience, be realistic: you probably
did not discover an unknown problem.
Sometimes faulty hardware can mimic a software bug, so verify the current
condition of your hardware before deciding you have found a bug.

<p>
Very detailed information is required to diagnose most serious issues.
For example, the following would be an appropriate bug report:

<blockquote><pre>
From: smartuser@example.com
To: bugs@openbsd.org
Subject: 3.3-beta panics on a SPARCStation2

OpenBSD 3.2 installed from an official CD-ROM installed and ran fine
on this machine.

After doing a clean install of 3.3-beta from a mirror, I find the
system randomly panics after a period of use, and predictably and
quickly when starting X.

This is the dmesg output:

[...]

This is the panic I got when attempting to start X:

panic: pool_get(mclpl): free list modified: magic=78746572; page 0xfaa93000;
 item addr 0xfaa93000
Stopped at      Debugger+0x4:   jmpl            [%o7 + 0x8], %g0
http://www.openbsd.org/ddb.html describes the minimum info required in bug
reports. Insufficient info makes it difficult to find and fix bugs.
ddb> trace
[...]

Thank you!
</pre></blockquote>

See <a href="../report.html">report.html</a> for more information on
creating and submitting bug reports.
Detailed information about your hardware is necessary if you think the bug
<i>could be in any way</i> related to your hardware or hardware configuration.
Usually,
<a href="http://man.openbsd.org/dmesg">dmesg(8)</a>
output is sufficient in this respect.
A detailed description of your problem is necessary.
You will note that the dmesg described the hardware, the text explained why
Smart User thought the system was not broken (ran 3.2 properly), how this
crash was caused (starting X), and the output of the debugger's
<tt>ps</tt> and <tt>trace</tt> commands.
In this case, Smart User provided output captured on a
<a href="faq7.html#SerCon">serial console</a>.
If you can not do that, take a picture of the screen and attach it to your bug
report.
(This was a real problem, and the information in the above report helped
lead to a repair of this issue which impacted Sun4c systems.)

<p>
If Smart User had a working OpenBSD system, they would have used the
<a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
utility to submit his bug report.
Obviously you can't use
<a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
when your system won't boot, but you should use it whenever possible.
You will still need to include detailed information about what happened,
the exact configuration of your system, and how to reproduce the
problem.
The
<a href="http://man.openbsd.org/sendbug">sendbug(1)</a>
command requires that your system be able to send electronic mail
successfully on the Internet.
Note that the mail server uses
<a href="http://man.openbsd.org/spamd">spamd(8)</a>
based greylisting, so it may take half an hour or so before the mail
server accepts your bug report.
Please be patient.

<p>
After submitting a bug report via sendbug(1),
you may be contacted by developers for additional
information or with patches that need testing.
You can also monitor the archives of the <a href="mailto:bugs@openbsd.org">
bugs@openbsd.org</a> mailing list - details on the
<a href="../mail.html">mailing list page</a>.

<h3>How do I get more useful info for developers?</h3>

Here are a few additional tips:

<p>
<b>Lost the "panic" message?</b>
<p>
Under some circumstances, you may lose the very first message of a
panic, stating the reason for the panic.
This is a very important message, so you want to report it as well.
You can get this back by using the "show panic" command in <tt>ddb></tt>
like this:

<blockquote><pre>
ddb> <b>show panic</b>
0:      kernel: page fault trap, code=0
ddb>
</pre></blockquote>

In this case, the panic string was "Kernel: page fault trap, code=0".

<p>
<b>Note for SMP systems</b>
<p>
You should get a "trace" from each processor as part of your report:

<blockquote><pre>
ddb{0}> <b>trace</b>
pool_get(d05e7c20,0,dab19ef8,d0169414,80) at pool_get+0x226
fxp_add_rfabuf(d0a62000,d3c12b00,dab19f10,dab19f10) at fxp_add_rfabuf+0xa5
fxp_intr(d0a62000) at fxp_intr+0x1e7
Xintr_ioapic0() at Xintr_ioapic0+0x6d
--- interrupt ---
idle_loop+0x21:
ddb{0}> <b>machine ddbcpu 1</b>
Stopped at      Debugger+0x4:   leave
ddb{1}> <b>trace</b>
Debugger(d0319e28,d05ff5a0,dab1bee8,d031cc6e,d0a61800) at Debugger+0x4
i386_ipi_db(d0a61800,d05ff5a0,dab1bef8,d01eb997) at i386_ipi_db+0xb
i386_ipi_handler(b0,d05f0058,dab10010,d01d0010,dab10010) at i386_ipi_handler+0x
4a
Xintripi() at Xintripi+0x47
--- interrupt ---
i386_softintlock(0,58,dab10010,dab10010,d01e0010) at i386_softintlock+0x37
Xintrltimer() at Xintrltimer+0x47
--- interrupt ---
idle_loop+0x21:
ddb{1}>
</pre></blockquote>

<p>
Repeat the <tt>machine ddbcpu x</tt> followed by <tt>trace</tt>
for each processor in your machine.
<p>

<h3>How do I gather further information from a kernel crash?</h3><p>

A typical kernel crash on OpenBSD might look like this:
(things to watch for are marked with bold font)

<blockquote><pre>
kernel: page fault trap, code=0
Stopped at    <b>_pf_route+0x263</b>:        mov     0x40(%edi),%edx
ddb>
</pre></blockquote>

The first command to run from the <tt>ddb></tt> prompt is "trace"
(see <a href="http://man.openbsd.org/ddb">ddb(4)</a>
for details):

<blockquote><pre>
ddb> <b>trace</b>
<b>_pf_route</b>(e28cb7e4,e28bc978,2,1fad,d0b8b120) at <b>_pf_route+0x263</b>
_pf_test(2,1f4ad,e28cb7e4,b4c1) at _pf_test+0x706
_pf_route(e28cbb00,e28bc978,2,d0a65440,d0b8b120) at _pf_route+0x207
_pf_test(2,d0a65440,e28cbb00,d023c282) at _pf_test+0x706
_ip_output(d0b6a200,0,0,0,0) at _ip_output+0xb67
_icmp_send(d0b6a200,0,1,a012) at _icmp_send+0x57
_icmp_reflect(d0b6a200,0,1,0,3) at _icmp_reflect+0x26b
_icmp_input(d0b6a200,14,0,0,d0b6a200) at _icmp_input+0x42c
_ipv4_input(d0b6a200,e289f140,d0a489e0,e289f140) at _ipv4_input+0x6eb
_ipintr(10,10,e289f140,e289f140,e28cbd38) at _ipintr+0x8d
Bad frame pointer: 0xe28cbcac
ddb>
</pre></blockquote>

This tells us what function calls lead to the crash.<p>

To find out the particular line of C code that caused the crash, you can
do the following:
<p>

Find the source file where the crashing function is defined in.
In this example, that would be pf_route() in sys/net/pf.c.
Recompile that source file with debug information:

<blockquote><pre>
# <b>cd /usr/src/sys/arch/$(uname -m)/compile/GENERIC</b>
# <b>rm pf.o</b>
# <b>DEBUG=-g make pf.o</b>
</pre></blockquote>

Then use <a href="http://man.openbsd.org/objdump">objdump(1)</a>
to get the disassembly:

<blockquote><pre>
# <b>objdump --line --disassemble --reloc pf.o &gt;pf.dis</b>
</pre></blockquote>

In the output, grep for the function name (pf_route in our example):

<blockquote><pre>
# <b>grep "&lt;_pf_route&gt;:" pf.dis</b>
0000<b>7d88</b> &lt;_pf_route&gt;:
</pre></blockquote>

Take this first hex number and add the offset from the 'Stopped at' line:
<b>0x7d88</b> + <b>0x263</b> == <b>0x7feb</b>.<br>
Scroll down to that line
(the assembler instruction should match the one quoted in the 'Stopped at' line),
then up to the nearest C line number:

<blockquote><pre>
# <b>more pf.dis</b>
/usr/src/sys/arch/i386/compile/GENERIC/../../../../net/pf.c:<b>3872</b>
    7fe7:       0f b7 43 02             movzwl 0x2(%ebx),%eax
    <b>7feb</b>:       8b 57 40                mov    0x40(%edi),%edx
    7fee:       39 d0                   cmp    %edx,%eax
    7ff0:       0f 87 92 00 00 00       ja     8088 &lt;_pf_route+0x300&gt;
</pre></blockquote>

So, it's precisely line <b>3872</b> of pf.c that crashes:

<blockquote><pre>
# <b>cat -n pf.c | head -n 3872 | tail -n 1</b>
3872          if ((u_int16_t)ip-&gt;ip_len &lt;= ifp-&gt;if_mtu) {
</pre></blockquote>

Note that the kernel that produced the crash output and the object file
for objdump must be compiled from the exact same source file,
otherwise the offsets won't match.
<p>

If you provide both the ddb trace output and the relevant objdump section,
that's very helpful.

<p>
</body>
</html>
